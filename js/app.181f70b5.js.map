{"version":3,"file":"js/app.181f70b5.js","mappings":"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","sources":["webpack://TextAndChord/./src/App.vue","webpack://TextAndChord/./src/App.vue?7ccd","webpack://TextAndChord/./src/registerServiceWorker.ts","webpack://TextAndChord/./src/components/clickable-icon.component.vue?c29b","webpack://TextAndChord/./src/components/clickable-icon.component.vue","webpack://TextAndChord/./src/components/clickable-icon.component.vue?0559","webpack://TextAndChord/./src/components/chord.component.vue?2c9f","webpack://TextAndChord/./src/components/chord.component.vue","webpack://TextAndChord/./src/components/chord.component.vue?5a7c","webpack://TextAndChord/./src/utils/utils.ts","webpack://TextAndChord/./src/components/chord-form.component.vue?c2fb","webpack://TextAndChord/./src/components/chord-form.component.vue","webpack://TextAndChord/./src/components/chord-form.component.vue?0fdf","webpack://TextAndChord/./src/components/word.component.vue?034b","webpack://TextAndChord/./src/components/word.component.vue","webpack://TextAndChord/./src/components/word.component.vue?c02c","webpack://TextAndChord/./src/components/new-row.component.vue?0e98","webpack://TextAndChord/./src/components/new-row.component.vue","webpack://TextAndChord/./src/components/new-row.component.vue?d668","webpack://TextAndChord/./src/components/new-word.component.vue?c8d5","webpack://TextAndChord/./src/components/new-word.component.vue","webpack://TextAndChord/./src/components/new-word.component.vue?31a9","webpack://TextAndChord/./src/components/row-number.component.vue?565d","webpack://TextAndChord/./src/components/row-number.component.vue","webpack://TextAndChord/./src/components/row-number.component.vue?a897","webpack://TextAndChord/./src/components/editor-menu.component.vue?0d6b","webpack://TextAndChord/./src/components/editor-menu.component.vue","webpack://TextAndChord/./src/components/editor-menu.component.vue?c4ee","webpack://TextAndChord/./src/components/editor.component.vue?5938","webpack://TextAndChord/./src/components/editor.component.vue","webpack://TextAndChord/./src/components/editor.component.vue?c75f","webpack://TextAndChord/./src/models/lyrics.model.ts","webpack://TextAndChord/./src/components/print-preview.component.vue?7f67","webpack://TextAndChord/./src/components/print-preview.component.vue","webpack://TextAndChord/./src/components/print-preview.component.vue?7880","webpack://TextAndChord/./src/components/dark-mode.component.vue?8cfb","webpack://TextAndChord/./src/components/dark-mode.component.vue","webpack://TextAndChord/./src/components/dark-mode.component.vue?9d6c","webpack://TextAndChord/./src/views/home.view.vue?840d","webpack://TextAndChord/./src/views/home.view.vue","webpack://TextAndChord/./src/views/home.view.vue?b84e","webpack://TextAndChord/./src/services/editor-menu.service.ts","webpack://TextAndChord/./src/router/index.ts","webpack://TextAndChord/./src/store/index.ts","webpack://TextAndChord/./src/services/chord-form.service.ts","webpack://TextAndChord/./src/services/appStateService.ts","webpack://TextAndChord/./src/services/scroll.service.ts","webpack://TextAndChord/./src/main.ts","webpack://TextAndChord/./src/icons/decrease-font.icon.vue","webpack://TextAndChord/./src/icons/decrease-font.icon.vue?d546","webpack://TextAndChord/./src/icons/increase-font.icon.vue","webpack://TextAndChord/./src/icons/increase-font.icon.vue?b7d9","webpack://TextAndChord/./src/icons/ sync ^\\.\\/.*$","webpack://TextAndChord/webpack/bootstrap","webpack://TextAndChord/webpack/runtime/chunk loaded","webpack://TextAndChord/webpack/runtime/create fake namespace object","webpack://TextAndChord/webpack/runtime/define property getters","webpack://TextAndChord/webpack/runtime/ensure chunk","webpack://TextAndChord/webpack/runtime/get javascript chunk filename","webpack://TextAndChord/webpack/runtime/get mini-css chunk filename","webpack://TextAndChord/webpack/runtime/global","webpack://TextAndChord/webpack/runtime/hasOwnProperty shorthand","webpack://TextAndChord/webpack/runtime/load script","webpack://TextAndChord/webpack/runtime/make namespace object","webpack://TextAndChord/webpack/runtime/publicPath","webpack://TextAndChord/webpack/runtime/jsonp chunk loading","webpack://TextAndChord/webpack/startup"],"sourcesContent":["<template>\r\n  <div class=\"p-3 h-100\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/main.scss\";\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\nnav {\r\n  padding: 30px;\r\n\r\n  a {\r\n    font-weight: bold;\r\n    color: #2c3e50;\r\n\r\n    &.router-link-exact-active {\r\n      color: #42b983;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=3f7632ef\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=3f7632ef&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-console */\r\n\r\nimport { register } from \"register-service-worker\";\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready() {\r\n      console.log(\r\n        \"App is being served from cache by a service worker.\\n\" +\r\n          \"For more details, visit https://goo.gl/AFskqB\"\r\n      );\r\n    },\r\n    registered() {\r\n      console.log(\"Service worker has been registered.\");\r\n    },\r\n    cached() {\r\n      console.log(\"Content has been cached for offline use.\");\r\n    },\r\n    updatefound() {\r\n      console.log(\"New content is downloading.\");\r\n    },\r\n    updated() {\r\n      console.log(\"New content is available; please refresh.\");\r\n    },\r\n    offline() {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    },\r\n    error(error) {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    },\r\n  });\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"title\"]\n\nimport { onMounted, reactive, Reactive, ref, Ref, watch } from \"vue\";\r\n\r\ninterface Style {\r\n  height?: number; //px\r\n  width?: number; //px\r\n  border?: boolean;\r\n  padding?: number; //rem\r\n  margin?: number; //rem\r\n}\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  disable?: boolean;\r\n  selected?: boolean;\r\n  tooltip?: string;\r\n  style?: Style;\r\n}\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'clickable-icon.component',\n  props: {\n    icon: {},\n    disable: { type: Boolean },\n    selected: { type: Boolean },\n    tooltip: {},\n    style: {}\n  },\n  emits: [\"onClick\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst el: Ref<HTMLElement | undefined> = ref();\r\nconst isOver: Ref<boolean> = ref(false);\r\nconst isClick: Ref<boolean> = ref(false);\r\n\r\nfunction onMouseClickDown(): void {\r\n  isClick.value = true;\r\n}\r\nfunction onMouseClickUp(): void {\r\n  isClick.value = false;\r\n}\r\n\r\nconst props = __props;\r\n\r\nconst _props: Reactive<Props> = reactive({});\r\n\r\n// default values\r\nwatch(\r\n  () => props,\r\n  (value) => {\r\n    _props.icon = value.icon ?? \"question.svg\";\r\n    _props.disable = value.disable ?? false;\r\n    _props.selected = value.selected ?? false;\r\n    _props.tooltip = value.tooltip ?? undefined;\r\n    _props.style = {\r\n      height: value.style?.height ?? 16,\r\n      width: value.style?.width ?? 16,\r\n      border: value.style?.border ?? false,\r\n      padding: value.style?.padding ?? 0.25,\r\n      margin: value.style?.margin ?? 0.25,\r\n    };\r\n  },\r\n  { immediate: true, deep: true }\r\n);\r\n\r\nconst emitter = __emit;\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"mouseup\", handleClickOutside);\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (el.value && !el.value.contains(event.target)) {\r\n    isClick.value = false;\r\n  }\r\n};\r\n\r\nfunction onClick(): void {\r\n  if (!props.disable) {\r\n    emitter(\"onClick\");\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref_key: \"el\",\n    ref: el,\n    class: \"icon-container\"\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"icon-wrapper\",\n      title: _props.tooltip,\n      onMouseenter: _cache[0] || (_cache[0] = ($event: any) => (isOver.value = true)),\n      onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (isOver.value = false)),\n      onMousedown: onMouseClickDown,\n      onMouseup: onMouseClickUp,\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (onClick())),\n      style: _normalizeStyle({\r\n        padding: `${_props.style?.padding}rem`,\r\n      })\n    }, [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"icon\", {\r\n          'icon-click': !_props.disable && (isClick.value || _props.selected),\r\n          'icon-border': _props.style?.border,\r\n          'icon-disable': _props.disable,\r\n        }]),\n        style: _normalizeStyle({\r\n          width: `${_props.style?.width}px`,\r\n          height: `${_props.style?.height}px`,\r\n          'background-image': `url(${require('@/icons/' + _props.icon)})`,\r\n        })\n      }, null, 6)\n    ], 44, _hoisted_1)\n  ], 512))\n}\n}\n\n})","<template>\r\n  <div ref=\"el\" class=\"icon-container\">\r\n    <div\r\n      class=\"icon-wrapper\"\r\n      :title=\"_props.tooltip\"\r\n      @mouseenter=\"isOver = true\"\r\n      @mouseleave=\"isOver = false\"\r\n      @mousedown=\"onMouseClickDown\"\r\n      @mouseup=\"onMouseClickUp\"\r\n      @click=\"onClick()\"\r\n      :style=\"{\r\n        padding: `${_props.style?.padding}rem`,\r\n      }\"\r\n    >\r\n      <div\r\n        class=\"icon\"\r\n        :class=\"{\r\n          'icon-click': !_props.disable && (isClick || _props.selected),\r\n          'icon-border': _props.style?.border,\r\n          'icon-disable': _props.disable,\r\n        }\"\r\n        :style=\"{\r\n          width: `${_props.style?.width}px`,\r\n          height: `${_props.style?.height}px`,\r\n          'background-image': `url(${require('@/icons/' + _props.icon)})`,\r\n        }\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted, reactive, Reactive, ref, Ref, watch } from \"vue\";\r\n\r\ninterface Style {\r\n  height?: number; //px\r\n  width?: number; //px\r\n  border?: boolean;\r\n  padding?: number; //rem\r\n  margin?: number; //rem\r\n}\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  disable?: boolean;\r\n  selected?: boolean;\r\n  tooltip?: string;\r\n  style?: Style;\r\n}\r\n\r\nconst el: Ref<HTMLElement | undefined> = ref();\r\nconst isOver: Ref<boolean> = ref(false);\r\nconst isClick: Ref<boolean> = ref(false);\r\n\r\nfunction onMouseClickDown(): void {\r\n  isClick.value = true;\r\n}\r\nfunction onMouseClickUp(): void {\r\n  isClick.value = false;\r\n}\r\n\r\nconst props = defineProps<Props>();\r\n\r\nconst _props: Reactive<Props> = reactive({});\r\n\r\n// default values\r\nwatch(\r\n  () => props,\r\n  (value) => {\r\n    _props.icon = value.icon ?? \"question.svg\";\r\n    _props.disable = value.disable ?? false;\r\n    _props.selected = value.selected ?? false;\r\n    _props.tooltip = value.tooltip ?? undefined;\r\n    _props.style = {\r\n      height: value.style?.height ?? 16,\r\n      width: value.style?.width ?? 16,\r\n      border: value.style?.border ?? false,\r\n      padding: value.style?.padding ?? 0.25,\r\n      margin: value.style?.margin ?? 0.25,\r\n    };\r\n  },\r\n  { immediate: true, deep: true }\r\n);\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"onClick\"): void;\r\n}>();\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"mouseup\", handleClickOutside);\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (el.value && !el.value.contains(event.target)) {\r\n    isClick.value = false;\r\n  }\r\n};\r\n\r\nfunction onClick(): void {\r\n  if (!props.disable) {\r\n    emitter(\"onClick\");\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.icon-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  .icon-wrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    .icon {\r\n      cursor: pointer;\r\n      background-size: cover;\r\n    }\r\n  }\r\n}\r\n\r\n.icon-border {\r\n  border: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color);\r\n}\r\n\r\n.icon-click {\r\n  filter: drop-shadow(0.3px 1px 0.6px black);\r\n}\r\n\r\n.icon-disable {\r\n  color: var(--bs-gray);\r\n}\r\n</style>\r\n","import script from \"./clickable-icon.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./clickable-icon.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./clickable-icon.component.vue?vue&type=style&index=0&id=403c1008&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-403c1008\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"chord-container\" }\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = [\"hidden\"]\nconst _hoisted_4 = [\"hidden\"]\n\nimport { inject, onBeforeUnmount, onMounted, ref, Ref, watch } from \"vue\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\n\r\ninterface Props {\r\n  chord?: string;\r\n  chordOffset?: number;\r\n  showText?: boolean;\r\n}\r\n\r\nconst DEFAULT_OFFSET_INC = 5;\r\nconst intervalDelay = 100;\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'chord.component',\n  props: {\n    chord: {},\n    chordOffset: {},\n    showText: { type: Boolean, default: true }\n  },\n  emits: [\"updateOffset\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: Props = __props;\r\n\r\nconst emitter = __emit;\r\n\r\nconst offset: Ref<number> = ref(0);\r\n\r\nwatch(offset, (value) => {\r\n  emitter(\"updateOffset\", value);\r\n});\r\n\r\nwatch(\r\n  () => props.chordOffset,\r\n  (value) => {\r\n    offset.value = value ?? 0;\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nlet offsetInc = DEFAULT_OFFSET_INC;\r\n\r\nconst chordWrapperEl: Ref<HTMLElement | null> = ref(null);\r\nconst leftEl: Ref<HTMLElement | null> = ref(null);\r\nconst rightEl: Ref<HTMLElement | null> = ref(null);\r\nconst chordEl: Ref<HTMLElement | null> = ref(null);\r\nconst showArrows: Ref<boolean> = ref(false);\r\nconst chordRelativeXPos: Ref<number> = ref(0);\r\nconst containerWidth: Ref<number> = ref(0);\r\nconst chordWidth: Ref<number> = ref(0);\r\nconst arrowWidth: Ref<number> = ref(0);\r\nconst shiftLeftPressed: Ref<boolean> = ref(false);\r\n\r\nwatch(shiftLeftPressed, (value) => {\r\n  offsetInc = value ? 1 : DEFAULT_OFFSET_INC;\r\n});\r\n\r\nconst leftArrowResizeObserver:ResizeObserver = new ResizeObserver((div) => {\r\n  arrowWidth.value = div[0].target.getBoundingClientRect().width;\r\n});\r\n\r\nconst chordResizeObserver:ResizeObserver = new ResizeObserver((div) => {\r\n  if (chordWrapperEl.value != null) {\r\n    const chordEl: Element = div[0].target;\r\n    chordWidth.value = chordEl.getBoundingClientRect().width;\r\n    chordRelativeXPos.value =\r\n      chordEl.getBoundingClientRect().left -\r\n      chordWrapperEl.value.getBoundingClientRect().left;\r\n  }\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (\r\n    (leftEl.value && !leftEl.value.contains(event.target)) ||\r\n    (rightEl.value && !rightEl.value.contains(event.target))\r\n  ) {\r\n    if (incLeftInterval != null) {\r\n      clearTimeout(incLeftInterval);\r\n    }\r\n    if (incRightInterval != null) {\r\n      clearTimeout(incRightInterval);\r\n    }\r\n  }\r\n};\r\n\r\nconst handleShiftLeftDownEvent = (e: KeyboardEvent): void => {\r\n  if (e.code === \"ShiftLeft\") {\r\n    shiftLeftPressed.value = true;\r\n  }\r\n};\r\nconst handleShiftLeftUpEvent = (e: KeyboardEvent): void => {\r\n  if (e.code === \"ShiftLeft\") {\r\n    shiftLeftPressed.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"keydown\", handleShiftLeftDownEvent);\r\n  document.addEventListener(\"keyup\", handleShiftLeftUpEvent);\r\n  document.addEventListener(\"click\", handleClickOutside);\r\n  document.addEventListener(\"dragend\", handleClickOutside);\r\n  if (leftEl.value != null) {\r\n    leftArrowResizeObserver.observe(leftEl.value);\r\n  }\r\n  if (chordEl.value != null) {\r\n    chordResizeObserver.observe(chordEl.value);\r\n  }\r\n  if (chordWrapperEl.value != null) {\r\n    containerWidth.value = chordWrapperEl.value.getBoundingClientRect().width;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"keydown\", handleShiftLeftDownEvent);\r\n  document.removeEventListener(\"keyup\", handleShiftLeftUpEvent);\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n  document.removeEventListener(\"dragend\", handleClickOutside);\r\n  leftArrowResizeObserver.disconnect();\r\n  chordResizeObserver.disconnect();\r\n});\r\n\r\nfunction incLeft(): void {\r\n  offset.value -= offsetInc;\r\n}\r\n\r\nfunction incRight(): void {\r\n  offset.value += offsetInc;\r\n}\r\n\r\nlet incRightInterval: number | undefined = undefined;\r\nlet incLeftInterval: number | undefined = undefined;\r\n\r\nfunction onClickDownLeft(): void {\r\n  incLeft();\r\n  incLeftInterval = setInterval(() => incLeft(), intervalDelay);\r\n}\r\n\r\nfunction onClickUpLeft(): void {\r\n  if (incLeftInterval != null) {\r\n    clearInterval(incLeftInterval);\r\n  }\r\n}\r\n\r\nfunction onClickDownRight(): void {\r\n  incRight();\r\n  incRightInterval = setInterval(() => incRight(), intervalDelay);\r\n}\r\n\r\nfunction onClickUpRight(): void {\r\n  if (incRightInterval != null) {\r\n    clearInterval(incRightInterval);\r\n  }\r\n}\r\n\r\nfunction onMouseEnter(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    showArrows.value = true;\r\n  }\r\n}\r\n\r\nfunction onMouseLeave(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    showArrows.value = false;\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      ref_key: \"chordWrapperEl\",\n      ref: chordWrapperEl,\n      class: \"chord-wrapper\",\n      style: _normalizeStyle({ left: `${offset.value}px` })\n    }, [\n      _createElementVNode(\"div\", {\n        ref_key: \"chordEl\",\n        ref: chordEl,\n        class: \"chord\",\n        onMouseenter: onMouseEnter,\n        onMouseleave: onMouseLeave\n      }, [\n        (_ctx.showText)\n          ? (_openBlock(), _createElementBlock(\"b\", _hoisted_2, _toDisplayString(_ctx.chord), 1))\n          : _createCommentVNode(\"\", true)\n      ], 544),\n      _createElementVNode(\"div\", {\n        ref_key: \"leftEl\",\n        ref: leftEl,\n        class: \"left-arrow\",\n        style: _normalizeStyle({\r\n          top: 0,\r\n          left: `${chordRelativeXPos.value - arrowWidth.value}px`,\r\n        }),\n        onMouseenter: onMouseEnter,\n        onMouseleave: onMouseLeave,\n        hidden: !showArrows.value\n      }, [\n        _createVNode(ClickableIcon, {\n          icon: \"arrow-left.svg\",\n          onmousedown: onClickDownLeft,\n          onmouseup: onClickUpLeft\n        })\n      ], 44, _hoisted_3),\n      _createElementVNode(\"div\", {\n        ref_key: \"rightEl\",\n        ref: rightEl,\n        class: \"right-arrow\",\n        style: _normalizeStyle({\r\n          top: 0,\r\n          left: `${chordRelativeXPos.value + chordWidth.value}px`,\r\n        }),\n        onMouseenter: onMouseEnter,\n        onMouseleave: onMouseLeave,\n        hidden: !showArrows.value\n      }, [\n        _createVNode(ClickableIcon, {\n          icon: \"arrow-right.svg\",\n          onmousedown: onClickDownRight,\n          onmouseup: onClickUpRight\n        })\n      ], 44, _hoisted_4)\n    ], 4)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"chord-container\">\r\n    <div\r\n      ref=\"chordWrapperEl\"\r\n      class=\"chord-wrapper\"\r\n      :style=\"{ left: `${offset}px` }\"\r\n    >\r\n      <div\r\n        ref=\"chordEl\"\r\n        class=\"chord\"\r\n        @mouseenter=\"onMouseEnter\"\r\n        @mouseleave=\"onMouseLeave\"\r\n      >\r\n        <b v-if=\"showText\">{{ chord }}</b>\r\n      </div>\r\n      <div\r\n        ref=\"leftEl\"\r\n        class=\"left-arrow\"\r\n        :style=\"{\r\n          top: 0,\r\n          left: `${chordRelativeXPos - arrowWidth}px`,\r\n        }\"\r\n        @mouseenter=\"onMouseEnter\"\r\n        @mouseleave=\"onMouseLeave\"\r\n        :hidden=\"!showArrows\"\r\n      >\r\n        <clickable-icon\r\n          icon=\"arrow-left.svg\"\r\n          :onmousedown=\"onClickDownLeft\"\r\n          :onmouseup=\"onClickUpLeft\"\r\n        ></clickable-icon>\r\n      </div>\r\n      <div\r\n        ref=\"rightEl\"\r\n        class=\"right-arrow\"\r\n        :style=\"{\r\n          top: 0,\r\n          left: `${chordRelativeXPos + chordWidth}px`,\r\n        }\"\r\n        @mouseenter=\"onMouseEnter\"\r\n        @mouseleave=\"onMouseLeave\"\r\n        :hidden=\"!showArrows\"\r\n      >\r\n        <clickable-icon\r\n          icon=\"arrow-right.svg\"\r\n          :onmousedown=\"onClickDownRight\"\r\n          :onmouseup=\"onClickUpRight\"\r\n        ></clickable-icon>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { inject, onBeforeUnmount, onMounted, ref, Ref, watch } from \"vue\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\n\r\ninterface Props {\r\n  chord?: string;\r\n  chordOffset?: number;\r\n  showText?: boolean;\r\n}\r\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: Props = withDefaults(defineProps<Props>(), {\r\n  showText: true,\r\n});\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"updateOffset\", offset: number): void;\r\n}>();\r\n\r\nconst offset: Ref<number> = ref(0);\r\n\r\nwatch(offset, (value) => {\r\n  emitter(\"updateOffset\", value);\r\n});\r\n\r\nwatch(\r\n  () => props.chordOffset,\r\n  (value) => {\r\n    offset.value = value ?? 0;\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nconst DEFAULT_OFFSET_INC = 5;\r\nlet offsetInc = DEFAULT_OFFSET_INC;\r\n\r\nconst chordWrapperEl: Ref<HTMLElement | null> = ref(null);\r\nconst leftEl: Ref<HTMLElement | null> = ref(null);\r\nconst rightEl: Ref<HTMLElement | null> = ref(null);\r\nconst chordEl: Ref<HTMLElement | null> = ref(null);\r\nconst showArrows: Ref<boolean> = ref(false);\r\nconst chordRelativeXPos: Ref<number> = ref(0);\r\nconst containerWidth: Ref<number> = ref(0);\r\nconst chordWidth: Ref<number> = ref(0);\r\nconst arrowWidth: Ref<number> = ref(0);\r\nconst shiftLeftPressed: Ref<boolean> = ref(false);\r\n\r\nwatch(shiftLeftPressed, (value) => {\r\n  offsetInc = value ? 1 : DEFAULT_OFFSET_INC;\r\n});\r\n\r\nconst leftArrowResizeObserver:ResizeObserver = new ResizeObserver((div) => {\r\n  arrowWidth.value = div[0].target.getBoundingClientRect().width;\r\n});\r\n\r\nconst chordResizeObserver:ResizeObserver = new ResizeObserver((div) => {\r\n  if (chordWrapperEl.value != null) {\r\n    const chordEl: Element = div[0].target;\r\n    chordWidth.value = chordEl.getBoundingClientRect().width;\r\n    chordRelativeXPos.value =\r\n      chordEl.getBoundingClientRect().left -\r\n      chordWrapperEl.value.getBoundingClientRect().left;\r\n  }\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (\r\n    (leftEl.value && !leftEl.value.contains(event.target)) ||\r\n    (rightEl.value && !rightEl.value.contains(event.target))\r\n  ) {\r\n    if (incLeftInterval != null) {\r\n      clearTimeout(incLeftInterval);\r\n    }\r\n    if (incRightInterval != null) {\r\n      clearTimeout(incRightInterval);\r\n    }\r\n  }\r\n};\r\n\r\nconst handleShiftLeftDownEvent = (e: KeyboardEvent): void => {\r\n  if (e.code === \"ShiftLeft\") {\r\n    shiftLeftPressed.value = true;\r\n  }\r\n};\r\nconst handleShiftLeftUpEvent = (e: KeyboardEvent): void => {\r\n  if (e.code === \"ShiftLeft\") {\r\n    shiftLeftPressed.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"keydown\", handleShiftLeftDownEvent);\r\n  document.addEventListener(\"keyup\", handleShiftLeftUpEvent);\r\n  document.addEventListener(\"click\", handleClickOutside);\r\n  document.addEventListener(\"dragend\", handleClickOutside);\r\n  if (leftEl.value != null) {\r\n    leftArrowResizeObserver.observe(leftEl.value);\r\n  }\r\n  if (chordEl.value != null) {\r\n    chordResizeObserver.observe(chordEl.value);\r\n  }\r\n  if (chordWrapperEl.value != null) {\r\n    containerWidth.value = chordWrapperEl.value.getBoundingClientRect().width;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"keydown\", handleShiftLeftDownEvent);\r\n  document.removeEventListener(\"keyup\", handleShiftLeftUpEvent);\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n  document.removeEventListener(\"dragend\", handleClickOutside);\r\n  leftArrowResizeObserver.disconnect();\r\n  chordResizeObserver.disconnect();\r\n});\r\n\r\nfunction incLeft(): void {\r\n  offset.value -= offsetInc;\r\n}\r\n\r\nfunction incRight(): void {\r\n  offset.value += offsetInc;\r\n}\r\n\r\nconst intervalDelay = 100;\r\nlet incRightInterval: number | undefined = undefined;\r\nlet incLeftInterval: number | undefined = undefined;\r\n\r\nfunction onClickDownLeft(): void {\r\n  incLeft();\r\n  incLeftInterval = setInterval(() => incLeft(), intervalDelay);\r\n}\r\n\r\nfunction onClickUpLeft(): void {\r\n  if (incLeftInterval != null) {\r\n    clearInterval(incLeftInterval);\r\n  }\r\n}\r\n\r\nfunction onClickDownRight(): void {\r\n  incRight();\r\n  incRightInterval = setInterval(() => incRight(), intervalDelay);\r\n}\r\n\r\nfunction onClickUpRight(): void {\r\n  if (incRightInterval != null) {\r\n    clearInterval(incRightInterval);\r\n  }\r\n}\r\n\r\nfunction onMouseEnter(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    showArrows.value = true;\r\n  }\r\n}\r\n\r\nfunction onMouseLeave(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    showArrows.value = false;\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.chord-container {\r\n  position: absolute;\r\n  .chord-wrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    position: relative;\r\n  }\r\n  .chord {\r\n    cursor: pointer;\r\n    width: fit-content;\r\n  }\r\n  .left-arrow {\r\n    position: absolute;\r\n    height: 100%;\r\n    z-index: 1;\r\n  }\r\n  .right-arrow {\r\n    position: absolute;\r\n    height: 100%;\r\n    z-index: 1;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./chord.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./chord.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./chord.component.vue?vue&type=style&index=0&id=4669805a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4669805a\"]])\n\nexport default __exports__","export function hashId(input: string): string {\r\n  let hash = 0;\r\n  const len = input.length; // Salviamo la lunghezza una sola volta\r\n  for (let i = 0; i < len; i++) {\r\n    const chr = input.charCodeAt(i);\r\n    hash = (hash << 5) - hash + chr; // Calcolo dell'hash\r\n    hash >>>= 0; // Convertiamo in un numero intero a 32 bit senza segno\r\n  }\r\n  return hash.toString(16);\r\n}\r\n\r\nexport function isEmpty(str: string | undefined): boolean {\r\n  if (str === undefined) return true;\r\n  return str.trim().length === 0;\r\n}\r\n\r\nexport function round(value: number, decimal: number): number {\r\n  const factor: number = Math.pow(10, decimal);\r\n  return Math.round(value * factor) / factor;\r\n}\r\n\r\n/**\r\n * Debounce Function\r\n *\r\n * This function limits the rate at which a given function (`func`) is executed.\r\n * The function will only be executed after a specified delay (`wait`) has passed\r\n * since the last invocation.\r\n *\r\n * @param func - The function to debounce.\r\n * @param wait - The number of milliseconds to wait before calling `func`.\r\n * @returns A debounced version of the input function.\r\n */\r\nexport function debounce<T extends (...args: any[]) => any>(func: T, wait: number): () => void {\r\n  let timeout: ReturnType<typeof setTimeout> | undefined;\r\n\r\n  return function (...args: any[]) {\r\n    if (timeout) clearTimeout(timeout);\r\n\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport {\r\n  inject,\r\n  onBeforeUnmount,\r\n  onMounted,\r\n  onUnmounted,\r\n  reactive,\r\n  ref,\r\n  Ref,\r\n} from \"vue\";\r\nimport { helpers } from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { ChordFormService } from \"@/services/chord-form.service\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\n\r\ninterface ChordFormProps {\r\n  chord: string | undefined;\r\n  textWidth: number;\r\n}\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'chord-form.component',\n  props: {\n    chord: {},\n    textWidth: {}\n  },\n  emits: [\"onClose\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst chordFormService: ChordFormService = inject(\"chordFormService\")!;\r\n\r\nconst props: ChordFormProps = __props;\r\n\r\nconst emitter = __emit;\r\n\r\nconst containerEl: Ref<HTMLElement | null> = ref(null);\r\nconst input: Ref<HTMLElement | null> = ref(null);\r\nconst offsetLeft: Ref<number> = ref(0);\r\n\r\nconst allowedCharsRegex = /^[a-zA-Z0-9#/]*$/;\r\nconst notAllowedCharsRegex = /[^a-zA-Z0-9#/]/g;\r\n\r\nconst state: {\r\n  chord: string | undefined;\r\n} = reactive<{ chord: string | undefined }>({\r\n  chord: props.chord,\r\n});\r\n\r\nconst rules = {\r\n  chord: helpers.withMessage(\"\", helpers.regex(allowedCharsRegex)),\r\n};\r\n\r\nconst v$ = useVuelidate(rules, state);\r\n\r\nlet emit = true;\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (containerEl.value && !containerEl.value.contains(event.target)) {\r\n    chordFormService.hideAll();\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"click\", handleClickOutside);\r\n  if (input.value != null) {\r\n    input.value.focus();\r\n  }\r\n  if (containerEl.value != null) {\r\n    offsetLeft.value =\r\n      (props.textWidth - containerEl.value.getBoundingClientRect().width) / 2;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (state.chord !== props.chord && emit) {\r\n    state.chord = isEmpty(state.chord) ? undefined : state.chord;\r\n    emitter(\"onClose\", state.chord);\r\n  }\r\n});\r\n\r\n// prevent not valid chars\r\nfunction validateInput(): void {\r\n  if (state.chord != null && !allowedCharsRegex.test(state.chord)) {\r\n    state.chord = state.chord.replace(notAllowedCharsRegex, \"\");\r\n  }\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  chordFormService.hideAll();\r\n}\r\n\r\nfunction handleEsc(): void {\r\n  chordFormService.hideAll();\r\n  emit = false;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref_key: \"containerEl\",\n    ref: containerEl,\n    class: \"chord-form-container\",\n    style: _normalizeStyle({ left: `${offsetLeft.value}px` })\n  }, [\n    _withDirectives(_createElementVNode(\"input\", {\n      ref_key: \"input\",\n      ref: input,\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((state.chord) = $event)),\n      onInput: validateInput,\n      onKeyup: [\n        _withKeys(handleEnter, [\"enter\"]),\n        _withKeys(handleEsc, [\"esc\"]),\n        _cache[1] || (_cache[1] = _withKeys((e) => e.preventDefault(), [\"space\"]))\n      ]\n    }, null, 544), [\n      [_vModelText, state.chord]\n    ])\n  ], 4))\n}\n}\n\n})","<template>\r\n  <div\r\n    ref=\"containerEl\"\r\n    class=\"chord-form-container\"\r\n    :style=\"{ left: `${offsetLeft}px` }\"\r\n  >\r\n    <input\r\n      ref=\"input\"\r\n      type=\"text\"\r\n      v-model=\"state.chord\"\r\n      @input=\"validateInput\"\r\n      @keyup.enter=\"handleEnter\"\r\n      @keyup.esc=\"handleEsc\"\r\n      @keyup.space=\"(e: KeyboardEvent) => e.preventDefault()\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {\r\n  inject,\r\n  onBeforeUnmount,\r\n  onMounted,\r\n  onUnmounted,\r\n  reactive,\r\n  ref,\r\n  Ref,\r\n} from \"vue\";\r\nimport { helpers } from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { ChordFormService } from \"@/services/chord-form.service\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\n\r\ninterface ChordFormProps {\r\n  chord: string | undefined;\r\n  textWidth: number;\r\n}\r\n\r\nconst chordFormService: ChordFormService = inject(\"chordFormService\")!;\r\n\r\nconst props: ChordFormProps = defineProps<ChordFormProps>();\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"onClose\", chord: string | undefined): void;\r\n}>();\r\n\r\nconst containerEl: Ref<HTMLElement | null> = ref(null);\r\nconst input: Ref<HTMLElement | null> = ref(null);\r\nconst offsetLeft: Ref<number> = ref(0);\r\n\r\nconst allowedCharsRegex = /^[a-zA-Z0-9#/]*$/;\r\nconst notAllowedCharsRegex = /[^a-zA-Z0-9#/]/g;\r\n\r\nconst state: {\r\n  chord: string | undefined;\r\n} = reactive<{ chord: string | undefined }>({\r\n  chord: props.chord,\r\n});\r\n\r\nconst rules = {\r\n  chord: helpers.withMessage(\"\", helpers.regex(allowedCharsRegex)),\r\n};\r\n\r\nconst v$ = useVuelidate(rules, state);\r\n\r\nlet emit = true;\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (containerEl.value && !containerEl.value.contains(event.target)) {\r\n    chordFormService.hideAll();\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  document.addEventListener(\"click\", handleClickOutside);\r\n  if (input.value != null) {\r\n    input.value.focus();\r\n  }\r\n  if (containerEl.value != null) {\r\n    offsetLeft.value =\r\n      (props.textWidth - containerEl.value.getBoundingClientRect().width) / 2;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (state.chord !== props.chord && emit) {\r\n    state.chord = isEmpty(state.chord) ? undefined : state.chord;\r\n    emitter(\"onClose\", state.chord);\r\n  }\r\n});\r\n\r\n// prevent not valid chars\r\nfunction validateInput(): void {\r\n  if (state.chord != null && !allowedCharsRegex.test(state.chord)) {\r\n    state.chord = state.chord.replace(notAllowedCharsRegex, \"\");\r\n  }\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  chordFormService.hideAll();\r\n}\r\n\r\nfunction handleEsc(): void {\r\n  chordFormService.hideAll();\r\n  emit = false;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.chord-form-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: -1.5rem;\r\n  z-index: 2;\r\n}\r\ninput[type=\"text\"] {\r\n  all: unset;\r\n  width: 2rem;\r\n  height: 1.8rem;\r\n  //border: 1px solid var(--bs-gray-200);\r\n  border-radius: 0.2rem;\r\n  background-color: white;\r\n  box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.05);\r\n  text-align: start;\r\n  padding: 0 0.25rem;\r\n  //caret-color: transparent;\r\n}\r\n</style>\r\n","import script from \"./chord-form.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./chord-form.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./chord-form.component.vue?vue&type=style&index=0&id=44882fef&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-44882fef\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, vModelText as _vModelText, withKeys as _withKeys, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, unref as _unref, normalizeClass as _normalizeClass, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"word-chord\"\n}\nconst _hoisted_2 = { class: \"position-relative\" }\nconst _hoisted_3 = { class: \"position-relative\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = {\n  key: 1,\n  class: \"empty-word position-relative\"\n}\n\nimport {inject, onBeforeUnmount, onMounted, reactive, Reactive, Ref, ref, watch} from \"vue\";\r\nimport { WordInterface } from \"@/interfaces/interfaces\";\r\nimport Chord from \"@/components/chord.component.vue\";\r\nimport ChordForm from \"@/components/chord-form.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport { ChordFormService } from \"@/services/chord-form.service\";\r\nimport { ScrollServiceState, ScrollService } from \"@/services/scroll.service\";\r\n\r\ninterface WordProps {\r\n  word: WordInterface;\r\n}\r\n\r\nconst DEFAULT_MARGIN_VALUE = 0.25;\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'word.component',\n  props: {\n    word: {}\n  },\n  emits: [\"onUpdate\", \"onDelete\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst chordFormService: ChordFormService = inject(\"chordFormService\")!;\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\nconst scrollService: ScrollService = inject(\"scrollService\")!;\r\n\r\nconst props: WordProps = __props;\r\n\r\nconst emitter = __emit;\r\n\r\nconst wordEl: Ref<HTMLElement | null> = ref(null);\r\nconst wordTextInputEl: Ref<HTMLElement | null> = ref(null);\r\nconst fakeEl: Ref<HTMLElement | null> = ref(null);\r\n\r\nconst inputWidth: Ref<number> = ref(1);\r\nconst isMouseOverWord: Ref<boolean> = ref(false);\r\nconst showChordForm: Ref<boolean> = ref(false);\r\nconst showWordTextForm: Ref<boolean> = ref(false);\r\nconst textWidth: Ref<number> = ref(0);\r\nconst scrollDirection: Reactive<ScrollServiceState> = scrollService.state;\r\n\r\nconst margin: Ref<number> = ref(DEFAULT_MARGIN_VALUE);\r\n\r\nconst form: Reactive<{ text: string | undefined }> = reactive({\r\n  text: undefined,\r\n});\r\n\r\nwatch(chordFormService.hide, (value) => {\r\n  showChordForm.value = false;\r\n});\r\n\r\nwatch(wordTextInputEl, (value) => {\r\n  if (value != null) {\r\n    value.focus();\r\n    // value.setSelectionRange(0, 0);\r\n  } else {\r\n    if (form.text === undefined || isEmpty(form.text)) {\r\n      emitter(\"onDelete\");\r\n    } else {\r\n      if (props.word.text !== form.text) {\r\n        const newWord: WordInterface = {\r\n          ...props.word,\r\n          text: form.text,\r\n        };\r\n        emitter(\"onUpdate\", newWord);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nwatch(scrollDirection, (value) => {\r\n  if (editorMenuService.isSpacingWordSelected() && isMouseOverWord.value) {\r\n    const sum: number = value.scrollDirection === \"up\" ? 0.1 : -0.1;\r\n    margin.value += sum;\r\n    if (margin.value < DEFAULT_MARGIN_VALUE) {\r\n      margin.value = DEFAULT_MARGIN_VALUE;\r\n    }\r\n    onUpdateMargin(margin.value);\r\n    value.event?.preventDefault();\r\n  }\r\n});\r\n\r\nwatch(\r\n  () => props.word,\r\n  (value) => {\r\n    margin.value = value.margin ?? DEFAULT_MARGIN_VALUE;\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nconst resizeObserver: ResizeObserver = new ResizeObserver((div) => {\r\n  const width: number = div[0].target.getBoundingClientRect().width;\r\n  inputWidth.value = width === 0 ? 1 : width;\r\n});\r\n\r\nonMounted(() => {\r\n  resizeObserver.observe(fakeEl.value!);\r\n  form.text = props.word.text;\r\n  if (wordEl.value != null) {\r\n    textWidth.value = wordEl.value.getBoundingClientRect().width;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  resizeObserver.disconnect();\r\n})\r\n\r\nfunction onClickWord(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    if (!showChordForm.value) {\r\n      setTimeout(() => {\r\n        showChordForm.value = true;\r\n      });\r\n    }\r\n  } else if (editorMenuService.isEraseWordSelected()) {\r\n    emitter(\"onDelete\");\r\n  } else if (editorMenuService.isEditWordTextSelected()) {\r\n    showWordTextForm.value = true;\r\n  }\r\n}\r\n\r\nfunction onUpdateChord(chord: string): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    chord: chord,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onUpdateOffset(offset: number): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    offset: offset,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onUpdateMargin(margin: number): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    margin: margin,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onMouseEnter(): void {\r\n  isMouseOverWord.value = true;\r\n}\r\n\r\nfunction onMouseLeave(): void {\r\n  isMouseOverWord.value = false;\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  showWordTextForm.value = false;\r\n}\r\nfunction handleEsc(): void {\r\n  form.text = props.word.text;\r\n  showWordTextForm.value = false;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"word-container\",\n    style: _normalizeStyle({\r\n      margin: `0 ${margin.value}rem 0 ${margin.value}rem`,\r\n    })\n  }, [\n    _createElementVNode(\"div\", {\n      ref_key: \"fakeEl\",\n      ref: fakeEl,\n      class: \"position-absolute\",\n      style: { visibility: 'hidden' }\n    }, _toDisplayString(form.text), 513),\n    (_ctx.word.chord)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(Chord, {\n              chord: _ctx.word.chord,\n              chordOffset: _ctx.word.offset,\n              showText: !showChordForm.value,\n              onUpdateOffset: _cache[0] || (_cache[0] = (offset) => onUpdateOffset(offset))\n            }, null, 8, [\"chord\", \"chordOffset\", \"showText\"])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (showChordForm.value)\n        ? (_openBlock(), _createBlock(ChordForm, {\n            key: 0,\n            chord: _ctx.word.chord,\n            textWidth: textWidth.value,\n            onOnClose: _cache[1] || (_cache[1] = (value) => onUpdateChord(value))\n          }, null, 8, [\"chord\", \"textWidth\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", {\n      ref_key: \"wordEl\",\n      ref: wordEl\n    }, [\n      (showWordTextForm.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _withDirectives(_createElementVNode(\"input\", {\n              style: _normalizeStyle({ width: `${inputWidth.value}px` }),\n              ref_key: \"wordTextInputEl\",\n              ref: wordTextInputEl,\n              type: \"text\",\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((form.text) = $event)),\n              onKeyup: [\n                _withKeys(handleEnter, [\"enter\"]),\n                _withKeys(handleEsc, [\"esc\"])\n              ],\n              onKeydown: _cache[3] || (_cache[3] = _withKeys((e) => e.preventDefault(), [\"space\"]))\n            }, null, 36), [\n              [_vModelText, form.text]\n            ])\n          ]))\n        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            (!_unref(isEmpty)(_ctx.word.text))\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  onClick: onClickWord,\n                  onMouseenter: onMouseEnter,\n                  onMouseleave: onMouseLeave,\n                  class: _normalizeClass({\r\n            'word-over': isMouseOverWord.value,\r\n            'word-cursor': isMouseOverWord.value && !_unref(editorMenuService).isSelected(),\r\n          })\n                }, _toDisplayString(_ctx.word.text), 35))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                  _createElementVNode(\"div\", {\n                    onClick: onClickWord,\n                    onMouseenter: onMouseEnter,\n                    onMouseleave: onMouseLeave,\n                    class: _normalizeClass([\"position-absolute\", {\r\n              'word-over': isMouseOverWord.value,\r\n              'word-cursor': isMouseOverWord.value && !_unref(editorMenuService).isSelected(),\r\n            }])\n                  }, null, 34)\n                ]))\n          ], 64))\n    ], 512)\n  ], 4))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"word-container\"\r\n    :style=\"{\r\n      margin: `0 ${margin}rem 0 ${margin}rem`,\r\n    }\"\r\n  >\r\n    <div\r\n      ref=\"fakeEl\"\r\n      class=\"position-absolute\"\r\n      :style=\"{ visibility: 'hidden' }\"\r\n    >\r\n      {{ form.text }}\r\n    </div>\r\n    <div v-if=\"word.chord\" class=\"word-chord\">\r\n      <div class=\"position-relative\">\r\n        <chord\r\n          :chord=\"word.chord\"\r\n          :chordOffset=\"word.offset\"\r\n          :showText=\"!showChordForm\"\r\n          v-on:updateOffset=\"(offset: number) => onUpdateOffset(offset)\"\r\n        ></chord>\r\n      </div>\r\n    </div>\r\n    <div class=\"position-relative\">\r\n      <chord-form\r\n        v-if=\"showChordForm\"\r\n        :chord=\"word.chord\"\r\n        :textWidth=\"textWidth\"\r\n        v-on:onClose=\"(value: string) => onUpdateChord(value)\"\r\n      ></chord-form>\r\n    </div>\r\n    <div ref=\"wordEl\">\r\n      <div v-if=\"showWordTextForm\">\r\n        <input\r\n          :style=\"{ width: `${inputWidth}px` }\"\r\n          ref=\"wordTextInputEl\"\r\n          type=\"text\"\r\n          v-model=\"form.text\"\r\n          @keyup.enter=\"handleEnter\"\r\n          @keyup.esc=\"handleEsc\"\r\n          @keydown.space=\"(e: KeyboardEvent) => e.preventDefault()\"\r\n        />\r\n      </div>\r\n      <template v-else>\r\n        <div\r\n          v-if=\"!isEmpty(word.text)\"\r\n          @click=\"onClickWord\"\r\n          @mouseenter=\"onMouseEnter\"\r\n          @mouseleave=\"onMouseLeave\"\r\n          :class=\"{\r\n            'word-over': isMouseOverWord,\r\n            'word-cursor': isMouseOverWord && !editorMenuService.isSelected(),\r\n          }\"\r\n        >\r\n          {{ word.text }}\r\n        </div>\r\n        <div v-else class=\"empty-word position-relative\">\r\n          <div\r\n            @click=\"onClickWord\"\r\n            @mouseenter=\"onMouseEnter\"\r\n            @mouseleave=\"onMouseLeave\"\r\n            class=\"position-absolute\"\r\n            :class=\"{\r\n              'word-over': isMouseOverWord,\r\n              'word-cursor': isMouseOverWord && !editorMenuService.isSelected(),\r\n            }\"\r\n          ></div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {inject, onBeforeUnmount, onMounted, reactive, Reactive, Ref, ref, watch} from \"vue\";\r\nimport { WordInterface } from \"@/interfaces/interfaces\";\r\nimport Chord from \"@/components/chord.component.vue\";\r\nimport ChordForm from \"@/components/chord-form.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport { ChordFormService } from \"@/services/chord-form.service\";\r\nimport { ScrollServiceState, ScrollService } from \"@/services/scroll.service\";\r\n\r\ninterface WordProps {\r\n  word: WordInterface;\r\n}\r\n\r\nconst chordFormService: ChordFormService = inject(\"chordFormService\")!;\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\nconst scrollService: ScrollService = inject(\"scrollService\")!;\r\n\r\nconst props: WordProps = defineProps<WordProps>();\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"onUpdate\", word: WordInterface): void;\r\n  (e: \"onDelete\"): void;\r\n}>();\r\n\r\nconst wordEl: Ref<HTMLElement | null> = ref(null);\r\nconst wordTextInputEl: Ref<HTMLElement | null> = ref(null);\r\nconst fakeEl: Ref<HTMLElement | null> = ref(null);\r\n\r\nconst inputWidth: Ref<number> = ref(1);\r\nconst isMouseOverWord: Ref<boolean> = ref(false);\r\nconst showChordForm: Ref<boolean> = ref(false);\r\nconst showWordTextForm: Ref<boolean> = ref(false);\r\nconst textWidth: Ref<number> = ref(0);\r\nconst scrollDirection: Reactive<ScrollServiceState> = scrollService.state;\r\n\r\nconst DEFAULT_MARGIN_VALUE = 0.25;\r\nconst margin: Ref<number> = ref(DEFAULT_MARGIN_VALUE);\r\n\r\nconst form: Reactive<{ text: string | undefined }> = reactive({\r\n  text: undefined,\r\n});\r\n\r\nwatch(chordFormService.hide, (value) => {\r\n  showChordForm.value = false;\r\n});\r\n\r\nwatch(wordTextInputEl, (value) => {\r\n  if (value != null) {\r\n    value.focus();\r\n    // value.setSelectionRange(0, 0);\r\n  } else {\r\n    if (form.text === undefined || isEmpty(form.text)) {\r\n      emitter(\"onDelete\");\r\n    } else {\r\n      if (props.word.text !== form.text) {\r\n        const newWord: WordInterface = {\r\n          ...props.word,\r\n          text: form.text,\r\n        };\r\n        emitter(\"onUpdate\", newWord);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nwatch(scrollDirection, (value) => {\r\n  if (editorMenuService.isSpacingWordSelected() && isMouseOverWord.value) {\r\n    const sum: number = value.scrollDirection === \"up\" ? 0.1 : -0.1;\r\n    margin.value += sum;\r\n    if (margin.value < DEFAULT_MARGIN_VALUE) {\r\n      margin.value = DEFAULT_MARGIN_VALUE;\r\n    }\r\n    onUpdateMargin(margin.value);\r\n    value.event?.preventDefault();\r\n  }\r\n});\r\n\r\nwatch(\r\n  () => props.word,\r\n  (value) => {\r\n    margin.value = value.margin ?? DEFAULT_MARGIN_VALUE;\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nconst resizeObserver: ResizeObserver = new ResizeObserver((div) => {\r\n  const width: number = div[0].target.getBoundingClientRect().width;\r\n  inputWidth.value = width === 0 ? 1 : width;\r\n});\r\n\r\nonMounted(() => {\r\n  resizeObserver.observe(fakeEl.value!);\r\n  form.text = props.word.text;\r\n  if (wordEl.value != null) {\r\n    textWidth.value = wordEl.value.getBoundingClientRect().width;\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  resizeObserver.disconnect();\r\n})\r\n\r\nfunction onClickWord(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    if (!showChordForm.value) {\r\n      setTimeout(() => {\r\n        showChordForm.value = true;\r\n      });\r\n    }\r\n  } else if (editorMenuService.isEraseWordSelected()) {\r\n    emitter(\"onDelete\");\r\n  } else if (editorMenuService.isEditWordTextSelected()) {\r\n    showWordTextForm.value = true;\r\n  }\r\n}\r\n\r\nfunction onUpdateChord(chord: string): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    chord: chord,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onUpdateOffset(offset: number): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    offset: offset,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onUpdateMargin(margin: number): void {\r\n  const newWord: WordInterface = {\r\n    ...props.word,\r\n    margin: margin,\r\n  };\r\n  emitter(\"onUpdate\", newWord);\r\n}\r\n\r\nfunction onMouseEnter(): void {\r\n  isMouseOverWord.value = true;\r\n}\r\n\r\nfunction onMouseLeave(): void {\r\n  isMouseOverWord.value = false;\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  showWordTextForm.value = false;\r\n}\r\nfunction handleEsc(): void {\r\n  form.text = props.word.text;\r\n  showWordTextForm.value = false;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.word-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: end;\r\n\r\n  .word-chord {\r\n    height: 1rem;\r\n  }\r\n\r\n  .empty-word {\r\n    width: 1rem;\r\n    height: 1.5rem;\r\n  }\r\n\r\n  .empty-word > * {\r\n    width: 1rem;\r\n    height: 1rem;\r\n    border: 1px dashed var(--bs-gray-300);\r\n    border-radius: 0.25rem;\r\n    top: 0.3rem;\r\n  }\r\n}\r\n\r\ninput[type=\"text\"] {\r\n  all: unset;\r\n  text-align: start;\r\n}\r\ninput[type=\"text\"]:focus-visible {\r\n  outline: none;\r\n}\r\n\r\n.word-cursor {\r\n  cursor: pointer;\r\n}\r\n\r\n.word-over {\r\n  box-shadow: 0px 0px 13px -2px rgba(0, 0, 0, 0.32);\r\n  box-shadow: inset 0px 0px 23px -5px rgba(0, 0, 0, 0.48);\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n","import script from \"./word.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./word.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./word.component.vue?vue&type=style&index=0&id=1aab32fa&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1aab32fa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"icon\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"line\"\n}\n\nimport { Ref, ref } from \"vue\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'new-row.component',\n  props: {\n    rowHeight: { default: 0 },\n    rowWidth: { default: 0 },\n    showLine: { type: Boolean, default: true }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst isMouseOver: Ref<boolean> = ref(false);\r\n\r\nconst props: { rowHeight: number; rowWidth: number; showLine: boolean } =\r\n  __props;\r\n\r\nconst emitter = __emit;\r\n\r\nfunction onClick(): void {\r\n  emitter(\"click\");\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"new-row-container\", { 'new-row-container-over': isMouseOver.value }]),\n    onMouseenter: _cache[0] || (_cache[0] = ($event: any) => (isMouseOver.value = true)),\n    onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (isMouseOver.value = false)),\n    onClick: onClick,\n    style: _normalizeStyle({ top: `${_ctx.rowHeight! - 6}px`, width: `${_ctx.rowWidth}px` })\n  }, [\n    (isMouseOver.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _cache[2] || (_cache[2] = [\n          _createElementVNode(\"i\", { class: \"bi bi-pencil\" }, null, -1)\n        ])))\n      : _createCommentVNode(\"\", true),\n    (_ctx.showLine && isMouseOver.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n      : _createCommentVNode(\"\", true)\n  ], 38))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"new-row-container\"\r\n    @mouseenter=\"isMouseOver = true\"\r\n    @mouseleave=\"isMouseOver = false\"\r\n    @click=\"onClick\"\r\n    :class=\"{ 'new-row-container-over': isMouseOver }\"\r\n    :style=\"{ top: `${rowHeight! - 6}px`, width: `${rowWidth}px` }\"\r\n  >\r\n    <div class=\"icon\" v-if=\"isMouseOver\">\r\n      <i class=\"bi bi-pencil\"></i>\r\n    </div>\r\n    <div class=\"line\" v-if=\"showLine && isMouseOver\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { Ref, ref } from \"vue\";\r\n\r\nconst isMouseOver: Ref<boolean> = ref(false);\r\n\r\nconst props: { rowHeight: number; rowWidth: number; showLine: boolean } =\r\n  withDefaults(\r\n    defineProps<{\r\n      rowHeight?: number;\r\n      rowWidth?: number;\r\n      showLine?: boolean;\r\n    }>(),\r\n    { rowHeight: 0, rowWidth: 0, showLine: true }\r\n  );\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"click\"): void;\r\n}>();\r\n\r\nfunction onClick(): void {\r\n  emitter(\"click\");\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.new-row-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: absolute;\r\n  height: 0.8rem;\r\n  z-index: 1;\r\n  //border: 1px solid blue;\r\n\r\n  .icon {\r\n    position: absolute;\r\n    top: -1rem;\r\n    z-index: 1;\r\n  }\r\n  .line {\r\n    width: 100%;\r\n    border-bottom: 1px solid var(--bs-gray-300);\r\n  }\r\n}\r\n\r\n.new-row-container-over {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import script from \"./new-row.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./new-row.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./new-row.component.vue?vue&type=style&index=0&id=498e2434&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-498e2434\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"new-word-container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"position-relative\"\n}\n\nimport {inject, onBeforeUnmount, onMounted, reactive, Reactive, ref, Ref, watch} from \"vue\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport {\r\n  EditorMenuAction,\r\n  EditorMenuService,\r\n} from \"@/services/editor-menu.service\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'new-word.component',\n  emits: [\"onAddNewWord\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst emitter = __emit;\r\n\r\nconst fakeEl: Ref<HTMLElement | null> = ref(null);\r\nconst formEl: Ref<HTMLElement | null> = ref(null);\r\nconst showForm: Ref<boolean> = ref(false);\r\nconst showCursor: Ref<boolean> = ref(false);\r\nconst showPointer: Ref<boolean> = ref(true);\r\nconst addEmptyWord: Reactive<EditorMenuAction> =\r\n  editorMenuService.actions.addEmptyWord;\r\nlet emit = false;\r\nconst inputWidth: Ref<number> = ref(1);\r\nconst form: Reactive<{ text: string | undefined }> = reactive({\r\n  text: undefined,\r\n});\r\n\r\nlet avoidFirstHandle = true;\r\n\r\nwatch(formEl, (value) => {\r\n  if (value != null) {\r\n    value.focus();\r\n  }\r\n});\r\nwatch(showForm, (value) => {\r\n  if (value) {\r\n    avoidFirstHandle = true;\r\n    emit = true;\r\n  } else {\r\n    if (emit && !isEmpty(form.text)) {\r\n      emitter(\"onAddNewWord\", form.text);\r\n    }\r\n    form.text = undefined;\r\n  }\r\n});\r\nwatch(\r\n  addEmptyWord,\r\n  (value) => {\r\n    showPointer.value = !value.selected;\r\n  },\r\n  { immediate: true }\r\n);\r\nconst resizeObserver: ResizeObserver = new ResizeObserver((div) => {\r\n  const width: number = div[0].target.getBoundingClientRect().width;\r\n  inputWidth.value = width === 0 ? 1 : width;\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (\r\n    !avoidFirstHandle &&\r\n    formEl.value &&\r\n    !formEl.value.contains(event.target)\r\n  ) {\r\n    showForm.value = false;\r\n  }\r\n  avoidFirstHandle = false;\r\n};\r\n\r\nonMounted(() => {\r\n  resizeObserver.observe(fakeEl.value!);\r\n  document.addEventListener(\"click\", handleClickOutside, {});\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n  resizeObserver.disconnect();\r\n})\r\n\r\nfunction onClickNewWord(): void {\r\n  if (addEmptyWord.selected) {\r\n    emitter(\"onAddNewWord\", \"\");\r\n    editorMenuService.toggleAddEmptyWord();\r\n  } else {\r\n    showCursor.value = false;\r\n    showForm.value = true;\r\n  }\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  showForm.value = false;\r\n}\r\n\r\nfunction handleEsc(): void {\r\n  showForm.value = false;\r\n  emit = false;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      ref_key: \"fakeEl\",\n      ref: fakeEl,\n      class: \"position-absolute\",\n      style: { visibility: 'hidden' }\n    }, _toDisplayString(form.text), 513),\n    (showForm.value)\n      ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n          key: 0,\n          ref_key: \"formEl\",\n          ref: formEl,\n          class: \"form\",\n          type: \"text\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((form.text) = $event)),\n          onKeyup: [\n            _withKeys(handleEnter, [\"enter\"]),\n            _withKeys(handleEsc, [\"esc\"])\n          ],\n          onKeydown: _cache[1] || (_cache[1] = _withKeys((e) => e.preventDefault(), [\"space\"])),\n          style: _normalizeStyle({ width: `${inputWidth.value}px` })\n        }, null, 36)), [\n          [_vModelText, form.text]\n        ])\n      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          _createElementVNode(\"div\", {\n            class: \"area\",\n            onMouseenter: _cache[2] || (_cache[2] = ($event: any) => (showCursor.value = true)),\n            onMouseleave: _cache[3] || (_cache[3] = ($event: any) => (showCursor.value = false)),\n            onClick: onClickNewWord,\n            style: _normalizeStyle({\r\n          cursor: showPointer.value ? 'pointer' : '',\r\n        })\n          }, null, 36),\n          (showCursor.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[4] || (_cache[4] = [\n                _createElementVNode(\"div\", { class: \"new-word-icon position-absolute\" }, [\n                  _createElementVNode(\"i\", { class: \"bi bi-geo-alt\" })\n                ], -1)\n              ])))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"new-word-container\">\r\n    <div\r\n      ref=\"fakeEl\"\r\n      class=\"position-absolute\"\r\n      :style=\"{ visibility: 'hidden' }\"\r\n    >\r\n      {{ form.text }}\r\n    </div>\r\n    <template v-if=\"showForm\">\r\n      <input\r\n        ref=\"formEl\"\r\n        class=\"form\"\r\n        type=\"text\"\r\n        v-model=\"form.text\"\r\n        @keyup.enter=\"handleEnter\"\r\n        @keydown.space=\"(e: KeyboardEvent) => e.preventDefault()\"\r\n        @keyup.esc=\"handleEsc\"\r\n        :style=\"{ width: `${inputWidth}px` }\"\r\n      />\r\n    </template>\r\n    <template v-else>\r\n      <div\r\n        class=\"area\"\r\n        @mouseenter=\"showCursor = true\"\r\n        @mouseleave=\"showCursor = false\"\r\n        @click=\"onClickNewWord\"\r\n        :style=\"{\r\n          cursor: showPointer ? 'pointer' : '',\r\n        }\"\r\n      ></div>\r\n      <div v-if=\"showCursor\" class=\"position-relative\">\r\n        <div class=\"new-word-icon position-absolute\">\r\n          <i class=\"bi bi-geo-alt\"></i>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {inject, onBeforeUnmount, onMounted, reactive, Reactive, ref, Ref, watch} from \"vue\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport {\r\n  EditorMenuAction,\r\n  EditorMenuService,\r\n} from \"@/services/editor-menu.service\";\r\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"onAddNewWord\", text: string | undefined): void;\r\n}>();\r\n\r\nconst fakeEl: Ref<HTMLElement | null> = ref(null);\r\nconst formEl: Ref<HTMLElement | null> = ref(null);\r\nconst showForm: Ref<boolean> = ref(false);\r\nconst showCursor: Ref<boolean> = ref(false);\r\nconst showPointer: Ref<boolean> = ref(true);\r\nconst addEmptyWord: Reactive<EditorMenuAction> =\r\n  editorMenuService.actions.addEmptyWord;\r\nlet emit = false;\r\nconst inputWidth: Ref<number> = ref(1);\r\nconst form: Reactive<{ text: string | undefined }> = reactive({\r\n  text: undefined,\r\n});\r\n\r\nlet avoidFirstHandle = true;\r\n\r\nwatch(formEl, (value) => {\r\n  if (value != null) {\r\n    value.focus();\r\n  }\r\n});\r\nwatch(showForm, (value) => {\r\n  if (value) {\r\n    avoidFirstHandle = true;\r\n    emit = true;\r\n  } else {\r\n    if (emit && !isEmpty(form.text)) {\r\n      emitter(\"onAddNewWord\", form.text);\r\n    }\r\n    form.text = undefined;\r\n  }\r\n});\r\nwatch(\r\n  addEmptyWord,\r\n  (value) => {\r\n    showPointer.value = !value.selected;\r\n  },\r\n  { immediate: true }\r\n);\r\nconst resizeObserver: ResizeObserver = new ResizeObserver((div) => {\r\n  const width: number = div[0].target.getBoundingClientRect().width;\r\n  inputWidth.value = width === 0 ? 1 : width;\r\n});\r\n\r\nconst handleClickOutside = (event: any) => {\r\n  if (\r\n    !avoidFirstHandle &&\r\n    formEl.value &&\r\n    !formEl.value.contains(event.target)\r\n  ) {\r\n    showForm.value = false;\r\n  }\r\n  avoidFirstHandle = false;\r\n};\r\n\r\nonMounted(() => {\r\n  resizeObserver.observe(fakeEl.value!);\r\n  document.addEventListener(\"click\", handleClickOutside, {});\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"click\", handleClickOutside);\r\n  resizeObserver.disconnect();\r\n})\r\n\r\nfunction onClickNewWord(): void {\r\n  if (addEmptyWord.selected) {\r\n    emitter(\"onAddNewWord\", \"\");\r\n    editorMenuService.toggleAddEmptyWord();\r\n  } else {\r\n    showCursor.value = false;\r\n    showForm.value = true;\r\n  }\r\n}\r\n\r\nfunction handleEnter(): void {\r\n  showForm.value = false;\r\n}\r\n\r\nfunction handleEsc(): void {\r\n  showForm.value = false;\r\n  emit = false;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.new-word-container {\r\n  position: relative;\r\n  height: 1.5rem;\r\n  align-self: end;\r\n  .area {\r\n    position: absolute;\r\n    width: 0.4rem;\r\n    height: 100%;\r\n    //border: 1px solid blue;\r\n    left: -0.2rem;\r\n    z-index: 1;\r\n  }\r\n  .new-word-icon {\r\n    top: -0.6rem;\r\n    left: -0.5rem;\r\n  }\r\n  .form {\r\n    width: 3rem;\r\n  }\r\n}\r\n\r\ninput[type=\"text\"] {\r\n  all: unset;\r\n  text-align: start;\r\n}\r\n\r\ninput[type=\"text\"]:focus-visible {\r\n  outline: none;\r\n}\r\n</style>\r\n","import script from \"./new-word.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./new-word.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./new-word.component.vue?vue&type=style&index=0&id=52a4ce1a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52a4ce1a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"hidden\"]\nconst _hoisted_2 = [\"hidden\"]\n\nimport { inject, ref, Ref } from \"vue\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'row-number.component',\n  props: {\n    idx: {}\n  },\n  emits: [\"onDeleteRow\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: { idx: number } = __props;\r\nconst emitter = __emit;\r\nconst isOverNumber: Ref<boolean> = ref(false);\r\n\r\nfunction onDeleteRow(): void {\r\n  emitter(\"onDeleteRow\", props.idx);\r\n}\r\n\r\nfunction isMouseEnter(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    isOverNumber.value = true;\r\n  }\r\n}\r\n\r\nfunction isMouseLeave(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    isOverNumber.value = false;\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"row-number\",\n    onMouseenter: isMouseEnter,\n    onMouseleave: isMouseLeave,\n    style: _normalizeStyle({ cursor: isOverNumber.value ? 'pointer' : '' })\n  }, [\n    _createElementVNode(\"div\", {\n      hidden: isOverNumber.value,\n      class: \"number fs-6 fw-light\"\n    }, _toDisplayString(_ctx.idx + 1) + \". \", 9, _hoisted_1),\n    _createElementVNode(\"div\", {\n      hidden: !isOverNumber.value,\n      class: \"delete\"\n    }, [\n      _createVNode(ClickableIcon, {\n        icon: \"trash.svg\",\n        style: {\r\n          padding: 0,\r\n        },\n        onOnClick: onDeleteRow\n      })\n    ], 8, _hoisted_2)\n  ], 36))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"row-number\"\r\n    @mouseenter=\"isMouseEnter\"\r\n    @mouseleave=\"isMouseLeave\"\r\n    :style=\"{ cursor: isOverNumber ? 'pointer' : '' }\"\r\n  >\r\n    <!-- hidden is much faster than if -->\r\n    <div :hidden=\"isOverNumber\" class=\"number fs-6 fw-light\">\r\n      {{ idx + 1 }}.\r\n    </div>\r\n    <div :hidden=\"!isOverNumber\" class=\"delete\">\r\n      <clickable-icon\r\n        icon=\"trash.svg\"\r\n        :style=\"{\r\n          padding: 0,\r\n        }\"\r\n        v-on:onClick=\"onDeleteRow\"\r\n      ></clickable-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { inject, ref, Ref } from \"vue\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: { idx: number } = defineProps<{ idx: number }>();\r\nconst emitter = defineEmits<{\r\n  (e: \"onDeleteRow\", idx: number): void;\r\n}>();\r\nconst isOverNumber: Ref<boolean> = ref(false);\r\n\r\nfunction onDeleteRow(): void {\r\n  emitter(\"onDeleteRow\", props.idx);\r\n}\r\n\r\nfunction isMouseEnter(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    isOverNumber.value = true;\r\n  }\r\n}\r\n\r\nfunction isMouseLeave(): void {\r\n  if (!editorMenuService.isSelected()) {\r\n    isOverNumber.value = false;\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.row-number {\r\n  display: flex;\r\n  justify-content: end;\r\n  height: 100%;\r\n  width: 2rem;\r\n  min-width: 2rem;\r\n  color: var(--bs-gray-600);\r\n\r\n  .delete {\r\n    display: flex;\r\n    justify-content: end;\r\n    width: 100%;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./row-number.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./row-number.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./row-number.component.vue?vue&type=style&index=0&id=5871c70b&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5871c70b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"menu-container ms-2\" }\nconst _hoisted_2 = { class: \"menu p-2 border rounded\" }\nconst _hoisted_3 = { class: \"menu-item\" }\nconst _hoisted_4 = { class: \"menu-item\" }\nconst _hoisted_5 = { class: \"menu-item\" }\nconst _hoisted_6 = { class: \"menu-item\" }\n\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { inject, Reactive } from \"vue\";\r\nimport {\r\n  EditorMenuActions,\r\n  EditorMenuService,\r\n} from \"@/services/editor-menu.service\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'editor-menu.component',\n  setup(__props) {\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\nconst actions: Reactive<EditorMenuActions> = editorMenuService.actions;\r\n\r\nfunction onEraseWord(): void {\r\n  editorMenuService.toggleEraseWord();\r\n}\r\n\r\nfunction onEditWordText(): void {\r\n  editorMenuService.toggleEditWordText();\r\n}\r\n\r\nfunction onAddEmptyWord(): void {\r\n  editorMenuService.toggleAddEmptyWord();\r\n}\r\n\r\nfunction onSpacingWord(): void {\r\n  editorMenuService.toggleSpacingWord();\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(ClickableIcon, {\n          icon: \"eraser.svg\",\n          selected: _unref(actions).eraseWord.selected,\n          onOnClick: onEraseWord,\n          tooltip: _ctx.$t('app.editor_menu.eraser_tooltip')\n        }, null, 8, [\"selected\", \"tooltip\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(ClickableIcon, {\n          icon: \"pencil.svg\",\n          selected: _unref(actions).editWordText.selected,\n          tooltip: _ctx.$t('app.editor_menu.edit_word_text_tooltip'),\n          onOnClick: onEditWordText\n        }, null, 8, [\"selected\", \"tooltip\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(ClickableIcon, {\n          icon: \"asterisk.svg\",\n          selected: _unref(actions).addEmptyWord.selected,\n          tooltip: _ctx.$t('app.editor_menu.add_empty_word_tooltip'),\n          onOnClick: onAddEmptyWord\n        }, null, 8, [\"selected\", \"tooltip\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(ClickableIcon, {\n          icon: \"wise-arrows.svg\",\n          selected: _unref(actions).spacingWord.selected,\n          tooltip: _ctx.$t('app.editor_menu.spacing_word_tooltip'),\n          onOnClick: onSpacingWord\n        }, null, 8, [\"selected\", \"tooltip\"])\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"menu-container ms-2\">\r\n    <div class=\"menu p-2 border rounded\">\r\n      <div class=\"menu-item\">\r\n        <clickable-icon\r\n          icon=\"eraser.svg\"\r\n          :selected=\"actions.eraseWord.selected\"\r\n          v-on:onClick=\"onEraseWord\"\r\n          :tooltip=\"$t('app.editor_menu.eraser_tooltip')\"\r\n        ></clickable-icon>\r\n      </div>\r\n      <div class=\"menu-item\">\r\n        <clickable-icon\r\n          icon=\"pencil.svg\"\r\n          :selected=\"actions.editWordText.selected\"\r\n          :tooltip=\"$t('app.editor_menu.edit_word_text_tooltip')\"\r\n          v-on:onClick=\"onEditWordText\"\r\n        ></clickable-icon>\r\n      </div>\r\n      <div class=\"menu-item\">\r\n        <clickable-icon\r\n          icon=\"asterisk.svg\"\r\n          :selected=\"actions.addEmptyWord.selected\"\r\n          :tooltip=\"$t('app.editor_menu.add_empty_word_tooltip')\"\r\n          v-on:onClick=\"onAddEmptyWord\"\r\n        ></clickable-icon>\r\n      </div>\r\n      <div class=\"menu-item\">\r\n        <clickable-icon\r\n          icon=\"wise-arrows.svg\"\r\n          :selected=\"actions.spacingWord.selected\"\r\n          :tooltip=\"$t('app.editor_menu.spacing_word_tooltip')\"\r\n          v-on:onClick=\"onSpacingWord\"\r\n        ></clickable-icon>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { inject, Reactive } from \"vue\";\r\nimport {\r\n  EditorMenuActions,\r\n  EditorMenuService,\r\n} from \"@/services/editor-menu.service\";\r\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\nconst actions: Reactive<EditorMenuActions> = editorMenuService.actions;\r\n\r\nfunction onEraseWord(): void {\r\n  editorMenuService.toggleEraseWord();\r\n}\r\n\r\nfunction onEditWordText(): void {\r\n  editorMenuService.toggleEditWordText();\r\n}\r\n\r\nfunction onAddEmptyWord(): void {\r\n  editorMenuService.toggleAddEmptyWord();\r\n}\r\n\r\nfunction onSpacingWord(): void {\r\n  editorMenuService.toggleSpacingWord();\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.menu-container {\r\n  height: 100%;\r\n\r\n  .menu {\r\n    // empty\r\n    .menu-item {\r\n      // empty\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./editor-menu.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./editor-menu.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./editor-menu.component.vue?vue&type=style&index=0&id=1501879b&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1501879b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = {\n  id: \"editor\",\n  class: \"editor container-fluid\"\n}\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col p-0 border rounded\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col p-0 position-relative\" }\nconst _hoisted_6 = { class: \"col p-0\" }\nconst _hoisted_7 = { class: \"d-flex align-items-center\" }\nconst _hoisted_8 = { class: \"d-flex flex-wrap align-items-end\" }\nconst _hoisted_9 = { class: \"col-auto p-0\" }\n\nimport {inject, onBeforeUnmount, onMounted, Reactive, Ref, ref} from \"vue\";\r\nimport Word from \"@/components/word.component.vue\";\r\nimport NewRow from \"@/components/new-row.component.vue\";\r\nimport NewWord from \"@/components/new-word.component.vue\";\r\nimport {Lyrics} from \"@/models/lyrics.model\";\r\nimport {WordInterface} from \"@/interfaces/interfaces\";\r\nimport RowNumber from \"@/components/row-number.component.vue\";\r\nimport EditorMenu from \"@/components/editor-menu.component.vue\";\r\nimport {EditorMenuService} from \"@/services/editor-menu.service\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'editor.component',\n  props: {\n    lyrics: {}\n  },\n  emits: [\"onEdit\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: Reactive<{ lyrics: Lyrics }> = __props;\r\n\r\nconst emitter = __emit;\r\n\r\nconst scrollContentEl: Ref<HTMLElement | undefined> = ref();\r\nconst rowEls: Ref<HTMLElement[]> = ref([]);\r\nconst scrollEl: Ref<HTMLElement | undefined> = ref();\r\nconst scrollElHeight: Ref<number | undefined> = ref();\r\nconst colWidth: Ref<number | undefined> = ref();\r\nconst rowHeights: Ref<number[]> = ref([]);\r\n\r\nconst scrollContentElObs: ResizeObserver = new ResizeObserver((_) => {\r\n  rowHeights.value = [];\r\n  for (let i = 0; i < rowEls.value.length; i++) {\r\n    const rowEl: HTMLElement = rowEls.value[i];\r\n    rowHeights.value[i] = rowEl.clientHeight;\r\n  }\r\n});\r\n\r\nonMounted(() => {\r\n  computeScrollEl();\r\n  window.addEventListener(\"resize\", computeScrollEl);\r\n  if (scrollContentEl.value !== undefined) {\r\n    scrollContentElObs.observe(scrollContentEl.value);\r\n  }\r\n  document.addEventListener(\"keyup\", handleEsc);\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"keyup\", handleEsc);\r\n  window.removeEventListener(\"resize\", computeScrollEl);\r\n  scrollContentElObs.disconnect();\r\n});\r\n\r\nfunction computeScrollEl(): void {\r\n  const el: HTMLElement = document.getElementById(\"lyrics-input\")!;\r\n  scrollElHeight.value = el.getBoundingClientRect().height;\r\n  computeColWidth(el);\r\n}\r\n\r\nfunction computeColWidth(el: HTMLElement): void {\r\n  const a = parseFloat(\r\n      getComputedStyle(el).width.replace(\"px\", \"\")\r\n  );\r\n  const b =\r\n      parseFloat(\r\n          getComputedStyle(el).paddingRight.replace(\"px\", \"\")\r\n      ) * 2;\r\n  const c = parseFloat(\r\n      getComputedStyle(el).borderWidth.replace(\"px\", \"\")\r\n  );\r\n  colWidth.value = a - b - c;\r\n}\r\n\r\nfunction updateWord(\r\n    rowIdx: number,\r\n    wordIdx: number,\r\n    word: WordInterface\r\n): void {\r\n  props.lyrics.updateWord(rowIdx, wordIdx, word);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onAddNewRow(idx: number): void {\r\n  props.lyrics.addNewRow(idx);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onAddNewWord(rowId: number, wordIdx: number, text: string): void {\r\n  props.lyrics.addWord(rowId, wordIdx, text);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onDeleteRow(key: number): void {\r\n  props.lyrics.deleteRow(key);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onDeleteWord(rowIdx: number, wordIdx: number): void {\r\n  props.lyrics.deleteWord(rowIdx, wordIdx);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction handleEsc(e: KeyboardEvent): void {\r\n  if (e.code === \"Escape\") {\r\n    editorMenuService.switchAllOff();\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", {\n          ref_key: \"scrollEl\",\n          ref: scrollEl,\n          class: \"scroll-y\",\n          style: _normalizeStyle({height: `${scrollElHeight.value}px`})\n        }, [\n          _createElementVNode(\"div\", {\n            ref_key: \"scrollContentEl\",\n            ref: scrollContentEl\n          }, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                (!_unref(editorMenuService).isSelected())\n                  ? (_openBlock(), _createBlock(NewRow, {\n                      key: 0,\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (onAddNewRow(0))),\n                      \"row-width\": colWidth.value\n                    }, null, 8, [\"row-width\"]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.lyrics.model, (value, idx1) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: idx1,\n                class: \"row position-relative\",\n                ref_for: true,\n                ref_key: \"rowEls\",\n                ref: rowEls,\n                style: { 'user-select': 'none' }\n              }, [\n                _createElementVNode(\"div\", _hoisted_6, [\n                  _createElementVNode(\"div\", _hoisted_7, [\n                    _createVNode(RowNumber, {\n                      idx: idx1,\n                      onOnDeleteRow: _cache[1] || (_cache[1] = (rowId) => onDeleteRow(rowId))\n                    }, null, 8, [\"idx\"]),\n                    _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"divider\" }, \"\", -1)),\n                    _createElementVNode(\"div\", _hoisted_8, [\n                      (\r\n                      _unref(editorMenuService).isAddEmptyWordSelected() ||\r\n                      !_unref(editorMenuService).isSelected()\r\n                    )\n                        ? (_openBlock(), _createBlock(NewWord, {\n                            key: 0,\n                            onOnAddNewWord: (_text) => onAddNewWord(idx1, 0, _text)\n                          }, null, 8, [\"onOnAddNewWord\"]))\n                        : _createCommentVNode(\"\", true),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(value, (word, idx2) => {\n                        return (_openBlock(), _createElementBlock(_Fragment, {\n                          key: idx1 + idx2 + word.text\n                        }, [\n                          _createVNode(Word, {\n                            word: word,\n                            onOnUpdate: (_word) => updateWord(idx1, idx2, _word),\n                            onOnDelete: ($event: any) => (onDeleteWord(idx1, idx2))\n                          }, null, 8, [\"word\", \"onOnUpdate\", \"onOnDelete\"]),\n                          (\r\n                        _unref(editorMenuService).isAddEmptyWordSelected() ||\r\n                        !_unref(editorMenuService).isSelected()\r\n                      )\n                            ? (_openBlock(), _createBlock(NewWord, {\n                                key: 0,\n                                onOnAddNewWord: (_text) => onAddNewWord(idx1, idx2 + 1, _text)\n                              }, null, 8, [\"onOnAddNewWord\"]))\n                            : _createCommentVNode(\"\", true)\n                        ], 64))\n                      }), 128))\n                    ])\n                  ])\n                ]),\n                (!_unref(editorMenuService).isSelected())\n                  ? (_openBlock(), _createBlock(NewRow, {\n                      key: 0,\n                      onClick: ($event: any) => (onAddNewRow(idx1 + 1)),\n                      \"row-height\": rowHeights.value[idx1],\n                      \"row-width\": colWidth.value\n                    }, null, 8, [\"onClick\", \"row-height\", \"row-width\"]))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            }), 128))\n          ], 512)\n        ], 4)\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(EditorMenu)\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div id=\"editor\" class=\"editor container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col p-0 border rounded\">\r\n        <div ref=\"scrollEl\" class=\"scroll-y\" :style=\"{height: `${scrollElHeight}px`}\">\r\n          <div ref=\"scrollContentEl\">\r\n            <div class=\"row\">\r\n              <div class=\"col p-0 position-relative\">\r\n                <new-row\r\n                    v-if=\"!editorMenuService.isSelected()\"\r\n                    v-on:click=\"onAddNewRow(0)\"\r\n                    :row-width=\"colWidth\"\r\n                ></new-row>\r\n              </div>\r\n            </div>\r\n            <div\r\n                v-for=\"(value, idx1) in lyrics.model\"\r\n                :key=\"idx1\"\r\n                class=\"row position-relative\"\r\n                ref=\"rowEls\"\r\n                :style=\"{ 'user-select': 'none' }\"\r\n            >\r\n              <div class=\"col p-0\">\r\n                <div class=\"d-flex align-items-center\">\r\n                  <row-number\r\n                      :idx=\"idx1\"\r\n                      v-on:onDeleteRow=\"(rowId: number) => onDeleteRow(rowId)\"\r\n                  ></row-number>\r\n                  <div class=\"divider\">&nbsp;</div>\r\n                  <div class=\"d-flex flex-wrap align-items-end\">\r\n                    <new-word\r\n                        v-if=\"\r\n                      editorMenuService.isAddEmptyWordSelected() ||\r\n                      !editorMenuService.isSelected()\r\n                    \"\r\n                        v-on:onAddNewWord=\"(_text: string) => onAddNewWord(idx1, 0, _text)\"\r\n                    ></new-word>\r\n                    <template\r\n                        v-for=\"(word, idx2) in value\"\r\n                        :key=\"idx1 + idx2 + word.text\"\r\n                    >\r\n                      <word\r\n                          :word=\"word\"\r\n                          v-on:onUpdate=\"(_word: WordInterface) => updateWord(idx1, idx2, _word)\"\r\n                          v-on:onDelete=\"onDeleteWord(idx1, idx2)\"\r\n                      ></word>\r\n                      <new-word\r\n                          v-if=\"\r\n                        editorMenuService.isAddEmptyWordSelected() ||\r\n                        !editorMenuService.isSelected()\r\n                      \"\r\n                          v-on:onAddNewWord=\"(_text: string) => onAddNewWord(idx1, idx2 + 1, _text)\"\r\n                      ></new-word>\r\n                    </template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <new-row\r\n                  v-if=\"!editorMenuService.isSelected()\"\r\n                  v-on:click=\"onAddNewRow(idx1 + 1)\"\r\n                  :row-height=\"rowHeights[idx1]\"\r\n                  :row-width=\"colWidth\"\r\n              ></new-row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-auto p-0\">\r\n        <editor-menu></editor-menu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {inject, onBeforeUnmount, onMounted, Reactive, Ref, ref} from \"vue\";\r\nimport Word from \"@/components/word.component.vue\";\r\nimport NewRow from \"@/components/new-row.component.vue\";\r\nimport NewWord from \"@/components/new-word.component.vue\";\r\nimport {Lyrics} from \"@/models/lyrics.model\";\r\nimport {WordInterface} from \"@/interfaces/interfaces\";\r\nimport RowNumber from \"@/components/row-number.component.vue\";\r\nimport EditorMenu from \"@/components/editor-menu.component.vue\";\r\nimport {EditorMenuService} from \"@/services/editor-menu.service\";\r\n\r\nconst editorMenuService: EditorMenuService = inject(\"editorMenuService\")!;\r\n\r\nconst props: Reactive<{ lyrics: Lyrics }> = defineProps<{ lyrics: Lyrics }>();\r\n\r\nconst emitter = defineEmits<{\r\n  (e: \"onEdit\"): void;\r\n}>();\r\n\r\nconst scrollContentEl: Ref<HTMLElement | undefined> = ref();\r\nconst rowEls: Ref<HTMLElement[]> = ref([]);\r\nconst scrollEl: Ref<HTMLElement | undefined> = ref();\r\nconst scrollElHeight: Ref<number | undefined> = ref();\r\nconst colWidth: Ref<number | undefined> = ref();\r\nconst rowHeights: Ref<number[]> = ref([]);\r\n\r\nconst scrollContentElObs: ResizeObserver = new ResizeObserver((_) => {\r\n  rowHeights.value = [];\r\n  for (let i = 0; i < rowEls.value.length; i++) {\r\n    const rowEl: HTMLElement = rowEls.value[i];\r\n    rowHeights.value[i] = rowEl.clientHeight;\r\n  }\r\n});\r\n\r\nonMounted(() => {\r\n  computeScrollEl();\r\n  window.addEventListener(\"resize\", computeScrollEl);\r\n  if (scrollContentEl.value !== undefined) {\r\n    scrollContentElObs.observe(scrollContentEl.value);\r\n  }\r\n  document.addEventListener(\"keyup\", handleEsc);\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  document.removeEventListener(\"keyup\", handleEsc);\r\n  window.removeEventListener(\"resize\", computeScrollEl);\r\n  scrollContentElObs.disconnect();\r\n});\r\n\r\nfunction computeScrollEl(): void {\r\n  const el: HTMLElement = document.getElementById(\"lyrics-input\")!;\r\n  scrollElHeight.value = el.getBoundingClientRect().height;\r\n  computeColWidth(el);\r\n}\r\n\r\nfunction computeColWidth(el: HTMLElement): void {\r\n  const a = parseFloat(\r\n      getComputedStyle(el).width.replace(\"px\", \"\")\r\n  );\r\n  const b =\r\n      parseFloat(\r\n          getComputedStyle(el).paddingRight.replace(\"px\", \"\")\r\n      ) * 2;\r\n  const c = parseFloat(\r\n      getComputedStyle(el).borderWidth.replace(\"px\", \"\")\r\n  );\r\n  colWidth.value = a - b - c;\r\n}\r\n\r\nfunction updateWord(\r\n    rowIdx: number,\r\n    wordIdx: number,\r\n    word: WordInterface\r\n): void {\r\n  props.lyrics.updateWord(rowIdx, wordIdx, word);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onAddNewRow(idx: number): void {\r\n  props.lyrics.addNewRow(idx);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onAddNewWord(rowId: number, wordIdx: number, text: string): void {\r\n  props.lyrics.addWord(rowId, wordIdx, text);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onDeleteRow(key: number): void {\r\n  props.lyrics.deleteRow(key);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction onDeleteWord(rowIdx: number, wordIdx: number): void {\r\n  props.lyrics.deleteWord(rowIdx, wordIdx);\r\n  emitter(\"onEdit\");\r\n}\r\n\r\nfunction handleEsc(e: KeyboardEvent): void {\r\n  if (e.code === \"Escape\") {\r\n    editorMenuService.switchAllOff();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/variables.scss\";\r\n\r\n.editor {\r\n  .divider {\r\n    border-right: 1px solid var(--bs-gray-300);\r\n    margin-left: 0.25rem;\r\n    margin-right: 0.25rem;\r\n  }\r\n}\r\n\r\n.eraser-cursor {\r\n  cursor: $eraser-cursor !important;\r\n}\r\n\r\n.edit-word-text-cursor {\r\n  cursor: $edit-word-text-cursor !important;\r\n}\r\n\r\n.add-empty-word-cursor {\r\n  cursor: $add-empty-word-cursor !important;\r\n}\r\n\r\n.spacing-word-cursor {\r\n  cursor: $spacing-word-cursor !important;\r\n}\r\n\r\n</style>\r\n","import script from \"./editor.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./editor.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./editor.component.vue?vue&type=style&index=0&id=46051c81&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46051c81\"]])\n\nexport default __exports__","import { WordInterface } from \"@/interfaces/interfaces\";\r\nimport { isEmpty, round } from \"@/utils/utils\";\r\n\r\nexport type LyricsMapType = WordInterface[][];\r\n\r\nexport class Lyrics {\r\n  private _model: WordInterface[][] = [];\r\n\r\n  constructor() {\r\n    // empty\r\n  }\r\n\r\n  get model(): LyricsMapType {\r\n    return this._model;\r\n  }\r\n\r\n  public static buildFromText(text: string): Lyrics {\r\n    const lyrics: Lyrics = new Lyrics();\r\n\r\n    // 1. Rimuovere gli spazi in eccesso tra le parole\r\n    const trimmedLines: string[] = text\r\n      .split(\"\\n\")\r\n      .map((line) => line.trim()) // Rimuove gli spazi iniziali e finali\r\n      .map((line) => line.replace(/\\s+/g, \" \")); // Rimuove gli spazi multipli tra le parole\r\n\r\n    for (let i = 0; i < trimmedLines.length; i++) {\r\n      lyrics.addNewRow(i);\r\n      const line = trimmedLines[i];\r\n      const splitLine: string[] = line.split(\" \").filter((k) => !isEmpty(k));\r\n      for (let j = 0; j < splitLine.length; j++) {\r\n        const wordText: string = splitLine[j];\r\n        lyrics.appendWord(i, Lyrics.parseWord(wordText));\r\n      }\r\n    }\r\n\r\n    return lyrics;\r\n  }\r\n\r\n  public static parseWord(input: string): WordInterface {\r\n    let text: string | undefined = \"INVALID\";\r\n    let chord: string | undefined;\r\n    let offset: number | undefined;\r\n    let margin: number | undefined;\r\n\r\n    const float = \"[+-]?(?:[0-9]*[.])?[0-9]*\";\r\n\r\n    const match = input.match(`(?:{([^{},]*)?,(${float})?,(${float})?})?(.+)`);\r\n\r\n    if (match) {\r\n      if (match[1]) {\r\n        chord = match[1];\r\n      }\r\n      if (match[2]) {\r\n        offset = parseFloat(match[2]);\r\n      }\r\n      if (match[3]) {\r\n        margin = parseFloat(match[3]);\r\n      }\r\n      text = match[4] === \"{empty}\" ? \" \" : match[4];\r\n    }\r\n\r\n    return {\r\n      text,\r\n      chord,\r\n      offset,\r\n      margin,\r\n    };\r\n  }\r\n\r\n  public addNewRow(idx: number): LyricsMapType {\r\n    this.insertRowAtIndex(idx, []);\r\n    return this.model;\r\n  }\r\n\r\n  public deleteRow(idx: number): LyricsMapType {\r\n    this.removeRowAtIndex(idx);\r\n    return this.model;\r\n  }\r\n\r\n  public addWord(rowIdx: number, idx: number, text: string): LyricsMapType {\r\n    const row: WordInterface[] | undefined = this.model[rowIdx];\r\n    if (row === undefined) {\r\n      return this.model;\r\n    }\r\n\r\n    // A B C\r\n    // 0 1 2\r\n    //\r\n    // A D B C\r\n    // 0 1 2 3\r\n\r\n    const word: WordInterface = {\r\n      text: text,\r\n      chord: undefined,\r\n      offset: 0,\r\n    };\r\n\r\n    row.splice(idx, 0, word);\r\n\r\n    return this.model;\r\n  }\r\n\r\n  public appendWord(idx: number, word: WordInterface): LyricsMapType {\r\n    const row: WordInterface[] | undefined = this.model[idx];\r\n\r\n    if (row === undefined) return this.model;\r\n\r\n    row.push(word);\r\n\r\n    return this.model;\r\n  }\r\n\r\n  public deleteWord(rowIdx: number, wordIdx: number): LyricsMapType {\r\n    const row: WordInterface[] | undefined = this.model[rowIdx];\r\n\r\n    if (row === undefined) {\r\n      return this.model;\r\n    }\r\n\r\n    row.splice(wordIdx, 1);\r\n\r\n    if (row.length === 0) {\r\n      this.removeRowAtIndex(rowIdx);\r\n    }\r\n\r\n    return this.model;\r\n  }\r\n\r\n  public updateWord(\r\n    rowIdx: number,\r\n    wordIdx: number,\r\n    word: WordInterface\r\n  ): LyricsMapType {\r\n    const row: WordInterface[] | undefined = this.model[rowIdx];\r\n\r\n    if (row === undefined) return this.model;\r\n\r\n    row[wordIdx] = { ...word };\r\n\r\n    return this.model;\r\n  }\r\n\r\n  private insertRowAtIndex(idx: number, value: WordInterface[]): void {\r\n    this.model.splice(idx, 0, value);\r\n  }\r\n\r\n  private removeRowAtIndex(idx: number): void {\r\n    this.model.splice(idx, 1);\r\n  }\r\n\r\n  public toString(): string {\r\n    let result = \"\";\r\n    for (let i = 0; i < this.model.length; i++) {\r\n      const row: WordInterface[] = this.model[i]!;\r\n      for (let j = 0; j < row.length; j++) {\r\n        const word: WordInterface = row[j];\r\n        if (word.chord || word.offset || word.margin) {\r\n          result += \"{\";\r\n          if (word.chord !== undefined) {\r\n            result += word.chord;\r\n          }\r\n          result += \",\";\r\n          if (word.offset !== undefined && word.offset != 0) {\r\n            result += word.offset;\r\n          }\r\n          result += \",\";\r\n          if (word.margin !== undefined && word.margin != 0) {\r\n            result += round(word.margin, 2).toString(10);\r\n          }\r\n          result += \"}\";\r\n        }\r\n\r\n        result += isEmpty(word.text) ? \"{empty}\" : word.text;\r\n        if (j < row.length - 1) {\r\n          result += \" \";\r\n        }\r\n      }\r\n      if (i < this.model.length - 1) {\r\n        result += \"\\n\";\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public getChords(): string[] {\r\n    const words: WordInterface[] = Array.from(this.model.values()).reduce(\r\n      (prev, curr) => prev.concat(curr),\r\n      []\r\n    );\r\n    const chords: string[] = words\r\n      .filter((word: WordInterface) => word.chord !== undefined)\r\n      .map((word: WordInterface) => word.chord!);\r\n    return Array.from(new Set(chords));\r\n  }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex justify-content-center align-items-center mb-1\" }\nconst _hoisted_2 = { style: { width: '48px' } }\nconst _hoisted_3 = { style: { width: '48px' } }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col\" }\nconst _hoisted_6 = { class: \"text-start\" }\nconst _hoisted_7 = { class: \"h1\" }\nconst _hoisted_8 = { class: \"h3\" }\nconst _hoisted_9 = { class: \"row\" }\nconst _hoisted_10 = { class: \"col\" }\nconst _hoisted_11 = {\n  class: \"text-start mb-2\",\n  style: { fontSize: `1rem` }\n}\nconst _hoisted_12 = { class: \"col\" }\nconst _hoisted_13 = { class: \"d-flex align-items-end\" }\nconst _hoisted_14 = { key: 0 }\nconst _hoisted_15 = { key: 0 }\nconst _hoisted_16 = { key: 1 }\nconst _hoisted_17 = { class: \"row mt-4\" }\nconst _hoisted_18 = { class: \"col\" }\nconst _hoisted_19 = {\n  class: \"credits text-start text-muted\",\n  style: { 'font-size': '0.8rem' }\n}\nconst _hoisted_20 = { class: \"d-flex justify-content-center\" }\nconst _hoisted_21 = { style: { width: '2rem' } }\n\nimport { onMounted, ref, Ref } from \"vue\";\r\nimport { Song } from \"@/interfaces/interfaces\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport jsPDF from \"jspdf\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'print-preview.component',\n  props: {\n    song: {}\n  },\n  setup(__props: any) {\n\r\nconst props: { song: Song } = __props;\r\n\r\nconst printPreviewEl: Ref<HTMLElement | undefined> = ref();\r\nconst fontSize: Ref<number> = ref(1);\r\n\r\nfunction isFirst(idx2: number) {\r\n  return idx2 === 0;\r\n}\r\n\r\nonMounted(() => {\r\n  // empty\r\n});\r\n\r\nfunction saveAsPDF(): void {\r\n  const printWindow: Window | null = createPrintWindow();\r\n  const doc = new jsPDF({\r\n    orientation: \"p\",\r\n    unit: \"px\",\r\n    format: \"a4\",\r\n  });\r\n\r\n  if (printWindow == null) return;\r\n\r\n  doc.html(printWindow.document.documentElement, {\r\n    callback: (doc) => {\r\n      doc.save(`${props.song.author}-${props.song.title}`);\r\n      printWindow.close();\r\n    },\r\n    margin: [20, 20, 20, 20], // mm\r\n  });\r\n}\r\n\r\nfunction printPreview(): void {\r\n  const printWindow: Window | null = createPrintWindow();\r\n\r\n  if (printWindow == null) return;\r\n\r\n  printWindow.print();\r\n}\r\n\r\nfunction createPrintWindow(): Window | null {\r\n  const printWindow: Window | null = window.open(\r\n    \"\",\r\n    \"_blank\",\r\n    \"width=800,height=600\"\r\n  )!;\r\n  const content = printPreviewEl.value!.innerHTML;\r\n  const styles = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\r\n  styles.forEach((style) => {\r\n    printWindow.document.write(style.outerHTML);\r\n  });\r\n  printWindow.document.write(content);\r\n  printWindow.document.write(`\r\n    <style>\r\n      body {\r\n        font-size: ${fontSize.value}rem;\r\n      }\r\n    </style>`);\r\n  printWindow.document.close();\r\n  return printWindow;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(ClickableIcon, {\n          icon: \"decrease_font.png\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (fontSize.value -= 0.1))\n        })\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"mx-3\",\n        style: _normalizeStyle({ 'font-size': `${fontSize.value}rem` })\n      }, _toDisplayString(_ctx.$t(\"app.print_preview.font_size\")), 5),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(ClickableIcon, {\n          icon: \"increase_font.png\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (fontSize.value += 0.1))\n        })\n      ])\n    ]),\n    _createElementVNode(\"div\", {\n      ref_key: \"printPreviewEl\",\n      ref: printPreviewEl,\n      class: \"container p-0\",\n      style: _normalizeStyle({ 'font-size': `${fontSize.value}rem`, display: `none` })\n    }, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"div\", _hoisted_7, _toDisplayString(_ctx.song.title), 1),\n            _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.song.author), 1)\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", _hoisted_11, _toDisplayString(_ctx.song.lyrics.getChords().join(\" \")), 1)\n        ])\n      ]),\n      _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"row pb-2\" }, [\n        _createElementVNode(\"div\", { class: \"col\" }, [\n          _createElementVNode(\"div\", { class: \"border-bottom\" })\n        ])\n      ], -1)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.song.lyrics?.model.values(), (row, idx1) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: idx1,\n          class: \"row\"\n        }, [\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createElementVNode(\"div\", _hoisted_13, [\n              (row.length === 0)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, \"\"))\n                : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(row, (word, idx2) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      class: \"d-flex flex-column me-2\",\n                      key: idx1 + idx2 + word.text\n                    }, [\n                      (word.chord)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"chord position-relative\",\n                            style: _normalizeStyle({ height: `${fontSize.value}rem` })\n                          }, [\n                            _createElementVNode(\"div\", {\n                              class: \"chord-text position-absolute\",\n                              style: _normalizeStyle({ left: `${(word.offset ?? 0) * fontSize.value}px` })\n                            }, [\n                              _createElementVNode(\"b\", null, _toDisplayString(word.chord), 1)\n                            ], 4)\n                          ], 4))\n                        : _createCommentVNode(\"\", true),\n                      _createElementVNode(\"div\", {\n                        class: \"word\",\n                        style: _normalizeStyle({\r\n                margin: `0 ${word.margin}rem 0 ${\r\n                  !isFirst(idx2) ? word.margin + 'rem' : '0'\r\n                }`,\r\n              })\n                      }, [\n                        (_unref(isEmpty)(word.text))\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \"\"))\n                          : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _toDisplayString(word.text), 1))\n                      ], 4)\n                    ]))\n                  }), 128))\n            ])\n          ])\n        ]))\n      }), 128)),\n      _createElementVNode(\"div\", _hoisted_17, [\n        _createElementVNode(\"div\", _hoisted_18, [\n          _createElementVNode(\"div\", _hoisted_19, [\n            _createElementVNode(\"em\", null, _toDisplayString(_ctx.$t(\"app.print_preview.credits\")), 1)\n          ])\n        ])\n      ])\n    ], 4),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"print-button btn btn-primary\",\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (printPreview()))\n      }, _cache[4] || (_cache[4] = [\n        _createElementVNode(\"i\", { class: \"bi bi-printer\" }, null, -1)\n      ])),\n      _createElementVNode(\"div\", _hoisted_21, [\n        _createVNode(ClickableIcon, {\n          icon: \"filetype-pdf.svg\",\n          onOnClick: saveAsPDF\n        })\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"d-flex justify-content-center align-items-center mb-1\">\r\n    <div :style=\"{ width: '48px' }\">\r\n      <clickable-icon\r\n        icon=\"decrease_font.png\"\r\n        v-on:click=\"fontSize -= 0.1\"\r\n      ></clickable-icon>\r\n    </div>\r\n    <div class=\"mx-3\" :style=\"{ 'font-size': `${fontSize}rem` }\">\r\n      {{ $t(\"app.print_preview.font_size\") }}\r\n    </div>\r\n    <div :style=\"{ width: '48px' }\">\r\n      <clickable-icon\r\n        icon=\"increase_font.png\"\r\n        v-on:click=\"fontSize += 0.1\"\r\n      ></clickable-icon>\r\n    </div>\r\n  </div>\r\n  <div\r\n    ref=\"printPreviewEl\"\r\n    class=\"container p-0\"\r\n    :style=\"{ 'font-size': `${fontSize}rem`, display: `none` }\"\r\n  >\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"text-start\">\r\n          <div class=\"h1\">{{ song.title }}</div>\r\n          <div class=\"h3\">{{ song.author }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"text-start mb-2\" :style=\"{ fontSize: `1rem` }\">\r\n          {{ song.lyrics.getChords().join(\" \") }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row pb-2\">\r\n      <div class=\"col\">\r\n        <div class=\"border-bottom\"></div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-for=\"(row, idx1) in song.lyrics?.model.values()\"\r\n      :key=\"idx1\"\r\n      class=\"row\"\r\n    >\r\n      <div class=\"col\">\r\n        <div class=\"d-flex align-items-end\">\r\n          <div v-if=\"row.length === 0\">&nbsp;</div>\r\n          <div\r\n            v-else\r\n            class=\"d-flex flex-column me-2\"\r\n            v-for=\"(word, idx2) in row\"\r\n            :key=\"idx1 + idx2 + word.text\"\r\n          >\r\n            <div\r\n              v-if=\"word.chord\"\r\n              class=\"chord position-relative\"\r\n              :style=\"{ height: `${fontSize}rem` }\"\r\n            >\r\n              <div\r\n                class=\"chord-text position-absolute\"\r\n                :style=\"{ left: `${(word.offset ?? 0) * fontSize}px` }\"\r\n              >\r\n                <b>{{ word.chord }}</b>\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"word\"\r\n              :style=\"{\r\n                margin: `0 ${word.margin}rem 0 ${\r\n                  !isFirst(idx2) ? word.margin + 'rem' : '0'\r\n                }`,\r\n              }\"\r\n            >\r\n              <div v-if=\"isEmpty(word.text)\">&nbsp;</div>\r\n              <div v-else>{{ word.text }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col\">\r\n        <div\r\n          class=\"credits text-start text-muted\"\r\n          :style=\"{ 'font-size': '0.8rem' }\"\r\n        >\r\n          <em>{{ $t(\"app.print_preview.credits\") }}</em>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"print-button btn btn-primary\"\r\n      @click=\"printPreview()\"\r\n    >\r\n      <i class=\"bi bi-printer\"></i>\r\n    </button>\r\n    <div :style=\"{ width: '2rem' }\">\r\n      <clickable-icon\r\n        icon=\"filetype-pdf.svg\"\r\n        v-on:onClick=\"saveAsPDF\"\r\n      ></clickable-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted, ref, Ref } from \"vue\";\r\nimport { Song } from \"@/interfaces/interfaces\";\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { isEmpty } from \"@/utils/utils\";\r\nimport jsPDF from \"jspdf\";\r\n\r\nconst props: { song: Song } = defineProps<{ song: Song }>();\r\n\r\nconst printPreviewEl: Ref<HTMLElement | undefined> = ref();\r\nconst fontSize: Ref<number> = ref(1);\r\n\r\nfunction isFirst(idx2: number) {\r\n  return idx2 === 0;\r\n}\r\n\r\nonMounted(() => {\r\n  // empty\r\n});\r\n\r\nfunction saveAsPDF(): void {\r\n  const printWindow: Window | null = createPrintWindow();\r\n  const doc = new jsPDF({\r\n    orientation: \"p\",\r\n    unit: \"px\",\r\n    format: \"a4\",\r\n  });\r\n\r\n  if (printWindow == null) return;\r\n\r\n  doc.html(printWindow.document.documentElement, {\r\n    callback: (doc) => {\r\n      doc.save(`${props.song.author}-${props.song.title}`);\r\n      printWindow.close();\r\n    },\r\n    margin: [20, 20, 20, 20], // mm\r\n  });\r\n}\r\n\r\nfunction printPreview(): void {\r\n  const printWindow: Window | null = createPrintWindow();\r\n\r\n  if (printWindow == null) return;\r\n\r\n  printWindow.print();\r\n}\r\n\r\nfunction createPrintWindow(): Window | null {\r\n  const printWindow: Window | null = window.open(\r\n    \"\",\r\n    \"_blank\",\r\n    \"width=800,height=600\"\r\n  )!;\r\n  const content = printPreviewEl.value!.innerHTML;\r\n  const styles = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\r\n  styles.forEach((style) => {\r\n    printWindow.document.write(style.outerHTML);\r\n  });\r\n  printWindow.document.write(content);\r\n  printWindow.document.write(`\r\n    <style>\r\n      body {\r\n        font-size: ${fontSize.value}rem;\r\n      }\r\n    </style>`);\r\n  printWindow.document.close();\r\n  return printWindow;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.chord {\r\n  // empty\r\n}\r\n.chord-text {\r\n  width: fit-content;\r\n}\r\n.print-button {\r\n  width: 8rem;\r\n}\r\n</style>\r\n","import script from \"./print-preview.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./print-preview.component.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./print-preview.component.vue?vue&type=style&index=0&id=f60995ba&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f60995ba\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { inject } from \"vue\";\r\nimport { AppStateService } from \"@/services/appStateService\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'dark-mode.component',\n  setup(__props) {\n\r\nconst appStateService: AppStateService = inject(\"appStateService\")!;\r\n\r\nfunction toggleDarkMode(): void {\r\n  appStateService.toggleDarkMode();\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(ClickableIcon, {\n    icon: _unref(appStateService).isDark.value ? 'moon.svg' : 'sun.svg',\n    onOnClick: toggleDarkMode,\n    style: {\r\n      width: 32,\r\n      height: 32,\r\n    }\n  }, null, 8, [\"icon\"]))\n}\n}\n\n})","<template>\r\n  <clickable-icon\r\n    :icon=\"appStateService.isDark.value ? 'moon.svg' : 'sun.svg'\"\r\n    v-on:onClick=\"toggleDarkMode\"\r\n    :style=\"{\r\n      width: 32,\r\n      height: 32,\r\n    }\"\r\n  ></clickable-icon>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport ClickableIcon from \"@/components/clickable-icon.component.vue\";\r\nimport { inject } from \"vue\";\r\nimport { AppStateService } from \"@/services/appStateService\";\r\n\r\nconst appStateService: AppStateService = inject(\"appStateService\")!;\r\n\r\nfunction toggleDarkMode(): void {\r\n  appStateService.toggleDarkMode();\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\"></style>\r\n","import script from \"./dark-mode.component.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./dark-mode.component.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home d-flex flex-column\" }\nconst _hoisted_2 = { class: \"app-header\" }\nconst _hoisted_3 = { class: \"contacts fw-light text-muted\" }\nconst _hoisted_4 = { class: \"d-flex align-items-end\" }\nconst _hoisted_5 = { class: \"m-0 me-1\" }\nconst _hoisted_6 = { class: \"version fw-light text-muted\" }\nconst _hoisted_7 = { class: \"ms-auto\" }\nconst _hoisted_8 = { class: \"song-info\" }\nconst _hoisted_9 = { class: \"d-flex align-items-center w-25 mb-2\" }\nconst _hoisted_10 = {\n  class: \"label m-0 me-2 form-label\",\n  for: \"song-author\"\n}\nconst _hoisted_11 = { class: \"d-flex align-items-center w-25 mb-2\" }\nconst _hoisted_12 = {\n  class: \"label m-0 me-2 form-label\",\n  for: \"song-title\"\n}\nconst _hoisted_13 = { class: \"d-flex flex-grow-1\" }\nconst _hoisted_14 = {\n  id: \"lyrics\",\n  class: \"lyrics d-flex flex-column\",\n  style: { width: '50%' }\n}\nconst _hoisted_15 = {\n  for: \"lyrics\",\n  class: \"form-label\"\n}\nconst _hoisted_16 = { class: \"d-flex gap-2 flex-column justify-content-center mx-2\" }\nconst _hoisted_17 = [\"disabled\"]\nconst _hoisted_18 = [\"disabled\"]\nconst _hoisted_19 = {\n  id: \"lyrics-editor\",\n  class: \"d-flex flex-column\",\n  style: { width: '50%' }\n}\nconst _hoisted_20 = {\n  for: \"lyrics\",\n  class: \"form-label\"\n}\n\nimport { inject, onMounted, Reactive, Ref, ref, watch } from \"vue\";\r\nimport Editor from \"@/components/editor.component.vue\";\r\nimport { AppStateService } from \"@/services/appStateService\";\r\nimport { Lyrics } from \"@/models/lyrics.model\";\r\nimport { Song } from \"@/interfaces/interfaces\";\r\nimport PrintPreview from \"@/components/print-preview.component.vue\";\r\nimport DarkMode from \"@/components/dark-mode.component.vue\";\r\nimport {debounce} from \"@/utils/utils\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'home.view',\n  setup(__props) {\n\r\nconst appVersion: Ref<string> = ref(process.env.VUE_APP_APP_VERSION);\r\nconst appContact: Ref<string> = ref(process.env.VUE_APP_APP_CONTACT);\r\n\r\nconst appStateService: AppStateService = inject(\"appStateService\")!;\r\n\r\nconst text: Ref<string | undefined> = ref();\r\nconst song: Reactive<Song> = appStateService.song;\r\nconst enableButtons: Ref<boolean> = ref(true);\r\n\r\nwatch(\r\n  () => song.author,\r\n  (value) => {\r\n    if (value != null) {\r\n      sessionStorage.setItem(\"author\", value);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(\r\n  () => song.title,\r\n  (value) => {\r\n    if (value != null) {\r\n      sessionStorage.setItem(\"title\", value);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(text, debounce(debounceText, 350), {immediate: true});\r\n\r\nonMounted(() => {\r\n  const lyrics: string | null = sessionStorage.getItem(\"lyrics\");\r\n\r\n  if (lyrics !== null) {\r\n    text.value = lyrics;\r\n  }\r\n\r\n  const author: string | null = sessionStorage.getItem(\"author\");\r\n\r\n  if (author !== null) {\r\n    song.author = author;\r\n  }\r\n\r\n  const title: string | null = sessionStorage.getItem(\"title\");\r\n\r\n  if (title !== null) {\r\n    song.title = title;\r\n  }\r\n\r\n  const isDarkMode: boolean =\r\n      (sessionStorage.getItem(\"darkMode\") ?? \"false\") === \"true\";\r\n\r\n  appStateService.setDarkMode(isDarkMode);\r\n});\r\n\r\nfunction debounceText(value: string): void {\r\n  if (value != undefined) {\r\n    sessionStorage.setItem(\"lyrics\", value);\r\n  }\r\n  doEnableButtons();\r\n}\r\n\r\nfunction doEnableButtons(): void {\r\n  enableButtons.value = text.value !== song.lyrics.toString();\r\n}\r\n\r\nfunction processText(): void {\r\n  if (text.value !== undefined) {\r\n    song.lyrics = Lyrics.buildFromText(text.value);\r\n    enableButtons.value = false;\r\n  }\r\n}\r\n\r\nfunction toText(): void {\r\n  text.value = song.lyrics.toString();\r\n  enableButtons.value = false;\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.$t(\"app.home.contact\")) + \":\" + _toDisplayString(appContact.value), 1),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"h2\", _hoisted_5, _toDisplayString(_ctx.$t(\"app.home.name\")), 1),\n          _createElementVNode(\"div\", _hoisted_6, \"v.\" + _toDisplayString(appVersion.value), 1)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(DarkMode)\n      ])\n    ]),\n    _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1)),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"label\", _hoisted_10, _toDisplayString(_ctx.$t(\"song.author\")), 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"form-control\",\n          type: \"text\",\n          id: \"song-author\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(song).author) = $event)),\n          \"aria-describedby\": \"song-author\"\n        }, null, 512), [\n          [_vModelText, _unref(song).author]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_11, [\n        _createElementVNode(\"label\", _hoisted_12, _toDisplayString(_ctx.$t(\"song.title\")), 1),\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"form-control\",\n          type: \"text\",\n          id: \"song-title\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(song).title) = $event)),\n          \"aria-describedby\": \"song-title\"\n        }, null, 512), [\n          [_vModelText, _unref(song).title]\n        ])\n      ]),\n      _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1))\n    ]),\n    _cache[9] || (_cache[9] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1)),\n    _createElementVNode(\"div\", _hoisted_13, [\n      _createElementVNode(\"div\", _hoisted_14, [\n        _createElementVNode(\"label\", _hoisted_15, _toDisplayString(_ctx.$t(\"app.home.lyrics\")), 1),\n        _withDirectives(_createElementVNode(\"textarea\", {\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((text).value = $event)),\n          class: \"lyrics-input form-control\",\n          id: \"lyrics-input\",\n          style: {\r\n            width: '100%',\r\n            height: '100%',\r\n            resize: 'none',\r\n          }\n        }, null, 512), [\n          [_vModelText, text.value]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_16, [\n        _createElementVNode(\"button\", {\n          disabled: !enableButtons.value,\n          type: \"button\",\n          class: \"btn btn-primary mx-2\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (processText()))\n        }, _cache[6] || (_cache[6] = [\n          _createElementVNode(\"i\", { class: \"bi bi-arrow-right\" }, null, -1)\n        ]), 8, _hoisted_17),\n        _createElementVNode(\"button\", {\n          disabled: !enableButtons.value,\n          type: \"button\",\n          class: \"btn btn-primary mx-2\",\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (toText()))\n        }, _cache[7] || (_cache[7] = [\n          _createElementVNode(\"i\", { class: \"bi bi-arrow-left\" }, null, -1)\n        ]), 8, _hoisted_18)\n      ]),\n      _createElementVNode(\"div\", _hoisted_19, [\n        _createElementVNode(\"label\", _hoisted_20, _toDisplayString(_ctx.$t(\"app.home.editor\")), 1),\n        _createVNode(Editor, {\n          lyrics: _unref(song).lyrics,\n          onOnEdit: doEnableButtons\n        }, null, 8, [\"lyrics\"])\n      ])\n    ]),\n    _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1)),\n    _createElementVNode(\"div\", null, [\n      _createVNode(PrintPreview, { song: _unref(song) }, null, 8, [\"song\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"home d-flex flex-column\">\r\n    <!--    HEADER     -->\r\n    <div class=\"app-header\">\r\n      <div>\r\n        <div class=\"contacts fw-light text-muted\">\r\n          {{$t(\"app.home.contact\")}}:{{appContact}}\r\n        </div>\r\n        <div class=\"d-flex align-items-end\">\r\n          <h2 class=\"m-0 me-1\">{{ $t(\"app.home.name\") }}</h2>\r\n          <div class=\"version fw-light text-muted\">v.{{appVersion}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"ms-auto\">\r\n        <dark-mode></dark-mode>\r\n      </div>\r\n    </div>\r\n    <div class=\"divider\"></div>\r\n    <div class=\"song-info\">\r\n      <!--    TITLE    -->\r\n      <div class=\"d-flex align-items-center w-25 mb-2\">\r\n        <label class=\"label m-0 me-2 form-label\" for=\"song-author\">{{\r\n          $t(\"song.author\")\r\n        }}</label>\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"text\"\r\n          id=\"song-author\"\r\n          v-model=\"song.author\"\r\n          aria-describedby=\"song-author\"\r\n        />\r\n      </div>\r\n      <!--    AUTHOR    -->\r\n      <div class=\"d-flex align-items-center w-25 mb-2\">\r\n        <label class=\"label m-0 me-2 form-label\" for=\"song-title\">{{\r\n          $t(\"song.title\")\r\n        }}</label>\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"text\"\r\n          id=\"song-title\"\r\n          v-model=\"song.title\"\r\n          aria-describedby=\"song-title\"\r\n        />\r\n      </div>\r\n      <div class=\"divider\"></div>\r\n    </div>\r\n    <div class=\"divider\"></div>\r\n    <div class=\"d-flex flex-grow-1\">\r\n      <!--    LYRICS    -->\r\n      <div\r\n        id=\"lyrics\"\r\n        class=\"lyrics d-flex flex-column\"\r\n        :style=\"{ width: '50%' }\"\r\n      >\r\n        <label for=\"lyrics\" class=\"form-label\">{{\r\n          $t(\"app.home.lyrics\")\r\n        }}</label>\r\n        <textarea\r\n          v-model=\"text\"\r\n          class=\"lyrics-input form-control\"\r\n          id=\"lyrics-input\"\r\n          :style=\"{\r\n            width: '100%',\r\n            height: '100%',\r\n            resize: 'none',\r\n          }\"\r\n        ></textarea>\r\n      </div>\r\n      <div class=\"d-flex gap-2 flex-column justify-content-center mx-2\">\r\n        <button\r\n            :disabled=\"!enableButtons\"\r\n            type=\"button\"\r\n            class=\"btn btn-primary mx-2\"\r\n            @click=\"processText()\"\r\n        >\r\n          <i class=\"bi bi-arrow-right\"></i>\r\n        </button>\r\n        <button\r\n            :disabled=\"!enableButtons\"\r\n            type=\"button\"\r\n            class=\"btn btn-primary mx-2\"\r\n            @click=\"toText()\"\r\n        >\r\n          <i class=\"bi bi-arrow-left\"></i>\r\n        </button>\r\n      </div>\r\n      <!--  EDITOR  -->\r\n      <div\r\n        id=\"lyrics-editor\"\r\n        class=\"d-flex flex-column\"\r\n        :style=\"{ width: '50%' }\"\r\n      >\r\n        <label for=\"lyrics\" class=\"form-label\">{{\r\n          $t(\"app.home.editor\")\r\n        }}</label>\r\n          <editor :lyrics=\"song.lyrics\" v-on:onEdit=\"doEnableButtons\"></editor>\r\n      </div>\r\n    </div>\r\n    <div class=\"divider\"></div>\r\n    <!--  PRINT PREVIEW  -->\r\n    <div>\r\n      <print-preview :song=\"song\"></print-preview>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { inject, onMounted, Reactive, Ref, ref, watch } from \"vue\";\r\nimport Editor from \"@/components/editor.component.vue\";\r\nimport { AppStateService } from \"@/services/appStateService\";\r\nimport { Lyrics } from \"@/models/lyrics.model\";\r\nimport { Song } from \"@/interfaces/interfaces\";\r\nimport PrintPreview from \"@/components/print-preview.component.vue\";\r\nimport DarkMode from \"@/components/dark-mode.component.vue\";\r\nimport {debounce} from \"@/utils/utils\";\r\n\r\nconst appVersion: Ref<string> = ref(process.env.VUE_APP_APP_VERSION);\r\nconst appContact: Ref<string> = ref(process.env.VUE_APP_APP_CONTACT);\r\n\r\nconst appStateService: AppStateService = inject(\"appStateService\")!;\r\n\r\nconst text: Ref<string | undefined> = ref();\r\nconst song: Reactive<Song> = appStateService.song;\r\nconst enableButtons: Ref<boolean> = ref(true);\r\n\r\nwatch(\r\n  () => song.author,\r\n  (value) => {\r\n    if (value != null) {\r\n      sessionStorage.setItem(\"author\", value);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(\r\n  () => song.title,\r\n  (value) => {\r\n    if (value != null) {\r\n      sessionStorage.setItem(\"title\", value);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n\r\nwatch(text, debounce(debounceText, 350), {immediate: true});\r\n\r\nonMounted(() => {\r\n  const lyrics: string | null = sessionStorage.getItem(\"lyrics\");\r\n\r\n  if (lyrics !== null) {\r\n    text.value = lyrics;\r\n  }\r\n\r\n  const author: string | null = sessionStorage.getItem(\"author\");\r\n\r\n  if (author !== null) {\r\n    song.author = author;\r\n  }\r\n\r\n  const title: string | null = sessionStorage.getItem(\"title\");\r\n\r\n  if (title !== null) {\r\n    song.title = title;\r\n  }\r\n\r\n  const isDarkMode: boolean =\r\n      (sessionStorage.getItem(\"darkMode\") ?? \"false\") === \"true\";\r\n\r\n  appStateService.setDarkMode(isDarkMode);\r\n});\r\n\r\nfunction debounceText(value: string): void {\r\n  if (value != undefined) {\r\n    sessionStorage.setItem(\"lyrics\", value);\r\n  }\r\n  doEnableButtons();\r\n}\r\n\r\nfunction doEnableButtons(): void {\r\n  enableButtons.value = text.value !== song.lyrics.toString();\r\n}\r\n\r\nfunction processText(): void {\r\n  if (text.value !== undefined) {\r\n    song.lyrics = Lyrics.buildFromText(text.value);\r\n    enableButtons.value = false;\r\n  }\r\n}\r\n\r\nfunction toText(): void {\r\n  text.value = song.lyrics.toString();\r\n  enableButtons.value = false;\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.home {\r\n  height: 100%;\r\n\r\n  .divider {\r\n    border-bottom: 1px solid var(--bs-gray-300);\r\n    margin: 0.5rem 0;\r\n  }\r\n\r\n  .app-header {\r\n    display: flex;\r\n\r\n    .contacts {\r\n      text-align: start;\r\n      font-size: 0.8rem;\r\n      font-style: italic\r\n    }\r\n\r\n    .version {\r\n      font-size: 0.8rem;\r\n      margin-bottom: 0.15rem;\r\n      font-style: italic\r\n    }\r\n  }\r\n\r\n  .song-info {\r\n    .label {\r\n      text-align: start;\r\n      width: 5rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./home.view.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./home.view.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./home.view.vue?vue&type=style&index=0&id=5a8877ad&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a8877ad\"]])\n\nexport default __exports__","import { reactive, Reactive } from \"vue\";\r\n\r\nexport interface EditorMenuAction {\r\n  selected: boolean;\r\n}\r\n\r\nexport interface EditorMenuActions {\r\n  eraseWord: EditorMenuAction;\r\n  editWordText: EditorMenuAction;\r\n  addEmptyWord: EditorMenuAction;\r\n  spacingWord: EditorMenuAction;\r\n}\r\n\r\nenum IconName {\r\n  ERASE_WORD = \"eraser-cursor\",\r\n  EDIT_WORD_TEXT = \"edit-word-text-cursor\",\r\n  ADD_EMPTY_WORD = \"add-empty-word-cursor\",\r\n  SPACING_WORD = \"spacing-word-cursor\",\r\n}\r\n\r\nexport class EditorMenuService {\r\n  private classes: string[] = [\r\n    IconName.ERASE_WORD,\r\n    IconName.EDIT_WORD_TEXT,\r\n    IconName.ADD_EMPTY_WORD,\r\n    IconName.SPACING_WORD,\r\n  ];\r\n\r\n  public actions: Reactive<EditorMenuActions> = reactive({\r\n    eraseWord: { selected: false },\r\n    editWordText: { selected: false },\r\n    addEmptyWord: { selected: false },\r\n    spacingWord: { selected: false },\r\n  });\r\n\r\n  constructor() {\r\n    // empty\r\n  }\r\n\r\n  public switchAllOff(): void {\r\n    Object.values(this.actions).forEach(\r\n      (i: EditorMenuAction) => (i.selected = false)\r\n    );\r\n    const editor: HTMLElement = document.getElementById(\"editor\")!;\r\n    this.classes.forEach((c: string) => {\r\n      editor.classList.remove(c);\r\n    });\r\n  }\r\n\r\n  public toggleEraseWord(): void {\r\n    const editor: HTMLElement = document.getElementById(\"editor\")!;\r\n    const value: boolean = this.actions.eraseWord.selected;\r\n    this.switchAllOff();\r\n    this.actions.eraseWord.selected = !value;\r\n    if (this.isEraseWordSelected()) {\r\n      editor.classList.add(IconName.ERASE_WORD);\r\n    }\r\n  }\r\n\r\n  public toggleEditWordText(): void {\r\n    const editor: HTMLElement = document.getElementById(\"editor\")!;\r\n    const value: boolean = this.actions.editWordText.selected;\r\n    this.switchAllOff();\r\n    this.actions.editWordText.selected = !value;\r\n    if (this.isEditWordTextSelected()) {\r\n      editor.classList.add(IconName.EDIT_WORD_TEXT);\r\n    }\r\n  }\r\n\r\n  public toggleAddEmptyWord(): void {\r\n    const editor: HTMLElement = document.getElementById(\"editor\")!;\r\n    const value: boolean = this.actions.addEmptyWord.selected;\r\n    this.switchAllOff();\r\n    this.actions.addEmptyWord.selected = !value;\r\n    if (this.isAddEmptyWordSelected()) {\r\n      editor.classList.add(IconName.ADD_EMPTY_WORD);\r\n    }\r\n  }\r\n\r\n  public toggleSpacingWord(): void {\r\n    const editor: HTMLElement = document.getElementById(\"editor\")!;\r\n    const value: boolean = this.actions.spacingWord.selected;\r\n    this.switchAllOff();\r\n    this.actions.spacingWord.selected = !value;\r\n    if (this.isSpacingWordSelected()) {\r\n      editor.classList.add(IconName.SPACING_WORD);\r\n    }\r\n  }\r\n\r\n  public isSelected(): boolean {\r\n    return (\r\n      this.actions.eraseWord.selected ||\r\n      this.actions.editWordText.selected ||\r\n      this.actions.addEmptyWord.selected ||\r\n      this.actions.spacingWord.selected\r\n    );\r\n  }\r\n\r\n  public isEraseWordSelected(): boolean {\r\n    return this.actions.eraseWord.selected;\r\n  }\r\n\r\n  public isEditWordTextSelected(): boolean {\r\n    return this.actions.editWordText.selected;\r\n  }\r\n\r\n  public isAddEmptyWordSelected(): boolean {\r\n    return this.actions.addEmptyWord.selected;\r\n  }\r\n\r\n  public isSpacingWordSelected(): boolean {\r\n    return this.actions.spacingWord.selected;\r\n  }\r\n}\r\n","import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\r\nimport HomeView from \"../views/home.view.vue\";\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: \"/\",\r\n    name: \"home\",\r\n    component: HomeView,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n","import { createStore } from \"vuex\";\r\n\r\nexport default createStore({\r\n  state: {},\r\n  getters: {},\r\n  mutations: {},\r\n  actions: {},\r\n  modules: {},\r\n});\r\n","import { ref, Ref } from \"vue\";\r\n\r\nexport class ChordFormService {\r\n  public hide: Ref<boolean> = ref(true);\r\n\r\n  constructor() {\r\n    // empty\r\n  }\r\n\r\n  public hideAll(): void {\r\n    this.hide.value = !this.hide.value;\r\n  }\r\n}\r\n","import { Song } from \"@/interfaces/interfaces\";\r\nimport { reactive, Reactive } from \"vue\";\r\nimport { Lyrics } from \"@/models/lyrics.model\";\r\n\r\nexport class AppStateService {\r\n  public song: Reactive<Song> = reactive<Song>({\r\n    author: undefined,\r\n    title: undefined,\r\n    lyrics: new Lyrics(),\r\n  });\r\n\r\n  public isDark: Reactive<{ value: boolean }> = reactive({ value: false });\r\n\r\n  constructor() {\r\n    // empty\r\n  }\r\n\r\n  public setDarkMode(value: boolean): void {\r\n    this.isDark.value = value;\r\n    const _value: string = this.isDark.value ? \"dark\" : \"light\";\r\n    document\r\n      .getElementsByTagName(\"html\")[0]!\r\n      .setAttribute(\"data-bs-theme\", _value);\r\n  }\r\n\r\n  public toggleDarkMode(): void {\r\n    this.isDark.value = !this.isDark.value;\r\n    sessionStorage.setItem(\"darkMode\", this.isDark.value.toString());\r\n    const _value: string = this.isDark.value ? \"dark\" : \"light\";\r\n    document\r\n      .getElementsByTagName(\"html\")[0]\r\n      .setAttribute(\"data-bs-theme\", _value);\r\n  }\r\n\r\n  public updateAuthor(author: string): void {\r\n    this.song.author = author;\r\n  }\r\n\r\n  public updateTitle(title: string): void {\r\n    this.song.title = title;\r\n  }\r\n}\r\n","import { reactive, Reactive } from \"vue\";\r\n\r\nexport interface ScrollServiceState {\r\n  scrollDirection: string | undefined;\r\n  event: WheelEvent | undefined;\r\n}\r\n\r\nexport class ScrollService {\r\n  public state: Reactive<ScrollServiceState> = reactive({\r\n    scrollDirection: undefined,\r\n    event: undefined,\r\n  });\r\n\r\n  constructor() {\r\n    document.addEventListener(\"wheel\", (ev) => this.onScroll(ev, this.state), {\r\n      passive: false,\r\n    });\r\n  }\r\n\r\n  private onScroll(ev: WheelEvent, state: ScrollServiceState): void {\r\n    state.event = ev;\r\n    state.scrollDirection = ev.deltaY < 0 ? \"up\" : \"down\";\r\n  }\r\n}\r\n","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport \"./registerServiceWorker\";\r\nimport router from \"./router\";\r\nimport store from \"./store\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap\";\r\nimport { ChordFormService } from \"@/services/chord-form.service\";\r\nimport { EditorMenuService } from \"@/services/editor-menu.service\";\r\nimport { AppStateService } from \"@/services/appStateService\";\r\nimport { ScrollService } from \"@/services/scroll.service\";\r\nimport { createI18n } from \"vue-i18n\";\r\nimport en from \"@/localizations/en.json\";\r\n\r\nconst i18n = createI18n({\r\n  locale: \"en\",\r\n  fallbackLocale: \"en\",\r\n  messages: {\r\n    en: en,\r\n  },\r\n});\r\n\r\nconst app = createApp(App);\r\n\r\napp.use(store).use(router).use(i18n).mount(\"#app\");\r\n\r\napp.provide(\"appStateService\", new AppStateService());\r\napp.provide(\"chordFormService\", new ChordFormService());\r\napp.provide(\"editorMenuService\", new EditorMenuService());\r\napp.provide(\"scrollService\", new ScrollService());\r\n","<template>\r\n  <div></div>\r\n  <!--  <img src=\"./icons/decrease_font.png\" alt=\"decrease-font\" />-->\r\n</template>\r\n","import { render } from \"./decrease-font.icon.vue?vue&type=template&id=8900e820\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div></div>\r\n  <!--  <img src=\"@/icons/increase_font.png\" alt=\"increase-fonr\" />-->\r\n</template>\r\n","import { render } from \"./increase-font.icon.vue?vue&type=template&id=03606694\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var map = {\n\t\"./arrow-left.svg\": 7418,\n\t\"./arrow-right.svg\": 6673,\n\t\"./asterisk.svg\": 1221,\n\t\"./decrease-font.icon\": 9857,\n\t\"./decrease-font.icon.vue\": 9857,\n\t\"./decrease_font.png\": 4141,\n\t\"./eraser.svg\": 5741,\n\t\"./filetype-pdf.svg\": 2714,\n\t\"./increase-font.icon\": 3467,\n\t\"./increase-font.icon.vue\": 3467,\n\t\"./increase_font.png\": 2165,\n\t\"./moon.svg\": 7774,\n\t\"./pencil.svg\": 7526,\n\t\"./question.svg\": 829,\n\t\"./sun.svg\": 201,\n\t\"./trash.svg\": 3797,\n\t\"./wise-arrows.svg\": 7764\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 8573;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"332\":\"bcefef82\",\"354\":\"97e50319\",\"838\":\"72b656d2\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"TextAndChord:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkTextAndChord\"] = self[\"webpackChunkTextAndChord\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6735); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","script","__exports__","render","ready","console","log","registered","cached","updatefound","updated","offline","error","__name","props","icon","disable","type","Boolean","selected","tooltip","style","emits","setup","__props","__emit","el","isOver","isClick","onMouseClickDown","value","onMouseClickUp","_props","undefined","height","width","border","padding","margin","immediate","deep","emitter","document","addEventListener","handleClickOutside","event","contains","target","onClick","_ctx","_cache","ref_key","ref","title","onMouseenter","$event","onMouseleave","onMousedown","onMouseup","_hoisted_2","key","_hoisted_3","_hoisted_4","DEFAULT_OFFSET_INC","intervalDelay","chord","chordOffset","showText","default","editorMenuService","offset","offsetInc","chordWrapperEl","leftEl","rightEl","chordEl","showArrows","chordRelativeXPos","containerWidth","chordWidth","arrowWidth","shiftLeftPressed","leftArrowResizeObserver","ResizeObserver","div","getBoundingClientRect","chordResizeObserver","left","incLeftInterval","clearTimeout","incRightInterval","handleShiftLeftDownEvent","e","code","handleShiftLeftUpEvent","incLeft","incRight","observe","removeEventListener","disconnect","onClickDownLeft","setInterval","onClickUpLeft","clearInterval","onClickDownRight","onClickUpRight","onMouseEnter","isSelected","onMouseLeave","top","hidden","onmousedown","onmouseup","isEmpty","str","trim","length","round","decimal","factor","Math","pow","debounce","func","wait","timeout","setTimeout","args","textWidth","chordFormService","containerEl","input","offsetLeft","allowedCharsRegex","notAllowedCharsRegex","state","rules","withMessage","regex","emit","hideAll","validateInput","test","replace","handleEnter","handleEsc","focus","onInput","onKeyup","preventDefault","_hoisted_5","DEFAULT_MARGIN_VALUE","word","scrollService","wordEl","wordTextInputEl","fakeEl","inputWidth","isMouseOverWord","showChordForm","showWordTextForm","scrollDirection","form","text","hide","newWord","isSpacingWordSelected","sum","onUpdateMargin","resizeObserver","onClickWord","isEraseWordSelected","isEditWordTextSelected","onUpdateChord","onUpdateOffset","visibility","onOnClose","onKeydown","rowHeight","rowWidth","showLine","isMouseOver","formEl","showForm","showCursor","showPointer","addEmptyWord","actions","avoidFirstHandle","onClickNewWord","toggleAddEmptyWord","cursor","idx","isOverNumber","onDeleteRow","isMouseEnter","isMouseLeave","onOnClick","_hoisted_6","onEraseWord","toggleEraseWord","onEditWordText","toggleEditWordText","onAddEmptyWord","onSpacingWord","toggleSpacingWord","eraseWord","$t","editWordText","spacingWord","id","_hoisted_7","_hoisted_8","_hoisted_9","lyrics","scrollContentEl","rowEls","scrollEl","scrollElHeight","colWidth","rowHeights","scrollContentElObs","_","i","rowEl","clientHeight","computeScrollEl","getElementById","computeColWidth","a","parseFloat","getComputedStyle","b","paddingRight","c","borderWidth","updateWord","rowIdx","wordIdx","onAddNewRow","addNewRow","onAddNewWord","rowId","addWord","deleteRow","onDeleteWord","deleteWord","switchAllOff","window","model","idx1","ref_for","onOnDeleteRow","isAddEmptyWordSelected","onOnAddNewWord","_text","idx2","onOnUpdate","_word","onOnDelete","this","_model","Lyrics","trimmedLines","split","map","line","splitLine","filter","k","j","wordText","appendWord","parseWord","float","match","insertRowAtIndex","removeRowAtIndex","row","splice","push","result","toString","words","Array","from","values","reduce","prev","curr","concat","chords","Set","_hoisted_10","_hoisted_11","fontSize","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","song","printPreviewEl","isFirst","saveAsPDF","printWindow","createPrintWindow","doc","orientation","unit","format","html","documentElement","callback","save","author","close","printPreview","print","open","content","innerHTML","styles","querySelectorAll","forEach","write","outerHTML","display","getChords","join","appStateService","toggleDarkMode","isDark","for","appVersion","appContact","enableButtons","debounceText","sessionStorage","setItem","doEnableButtons","processText","buildFromText","toText","getItem","isDarkMode","setDarkMode","resize","disabled","onOnEdit","IconName","routes","path","name","component","router","history","getters","mutations","modules","ERASE_WORD","EDIT_WORD_TEXT","ADD_EMPTY_WORD","SPACING_WORD","Object","editor","classes","classList","remove","add","_value","getElementsByTagName","setAttribute","ev","onScroll","passive","deltaY","i18n","locale","fallbackLocale","messages","en","app","App","use","store","mount","provide","AppStateService","ChordFormService","EditorMenuService","ScrollService","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","keys","resolve","module","exports","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","__esModule","then","ns","create","def","current","indexOf","getOwnPropertyNames","d","definition","defineProperty","enumerable","get","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","needAttach","scripts","s","getAttribute","createElement","charset","nc","src","onScriptComplete","onerror","onload","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","reject","loadingEnded","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}